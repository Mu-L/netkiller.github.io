<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Netkiller Linux Web 手札</title><link rel="stylesheet" type="text/css" href="docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><meta name="keywords" content="lamp,lnmp,famp,fnmp, cgi,fastcgi,wsgi, apache,lighttpd,nginx,tomcat, awstatus, webalizer" /><link rel="home" href="index.html" title="Netkiller Linux Web 手札" /><link rel="next" href="preface.html" title="自述" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> | <a xmlns="" href="//netkiller.github.io/">简体中文</a> | <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> | <a xmlns="" href="/journal/index.html">杂文</a>
		| <a xmlns="" href="https://github.com/netkiller">Github</a> | <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> | <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> | <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> | <a xmlns="" href="https://www.youtube.com/user/bg7nyt/videos">Youtube</a> | <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> | <a xmlns="" href="//www.netkiller.cn/home/about.html">About</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Netkiller Linux Web 手札</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="preface.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td><td></td><td><a href="https://zhuanlan.zhihu.com/netkiller"><img src="/images/logo/zhihu-card-default.svg" height="25" /></a></td><td valign="middle"><a href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a></td><td></td><td></td><td></td><td></td></tr></table><div xml:lang="zh-cn" class="book" lang="zh-cn"><div class="titlepage"><div><div><h1 class="title"><a id="id768"></a>Netkiller Linux Web 手札</h1></div><div><h2 class="subtitle">Apache, Lighttpd, Nginx, Resin, Tomcat, Jboss, Zope...</h2></div><div><div class="authorgroup">

	<div class="author"><h3 class="author"><span class="honorific">Mr</span>. <span class="firstname">Neo</span> <span class="othername"></span> <span class="surname">Chan</span>, <span class="lineage">陈景峯(BG7NYT)</span></h3><div class="affiliation">
			<div class="address"><p><br />
				<br />
				<span class="country">中国</span><span class="state">广东省</span><span class="city">深圳市</span><span class="street">望海路半岛城邦三期</span><br />
				<span class="postcode">518067</span><br />
				<span class="phone">+86 13113668890</span><br />
				<br />
				<code class="email">&lt;<a class="email" href="mailto:netkiller@msn.com">netkiller@msn.com</a>&gt;</code><br />
			</p></div>

		</div></div>


</div></div><div><p class="releaseinfo">$Date: 2013-04-10 15:03:49 +0800 (Wed, 10 Apr 2013) $, $Id: book.xml 559 2013-04-10 07:03:49Z netkiller $</p></div><div><p class="releaseinfo">
	</p><p>
		电子书最近一次更新于
		<span class="date">2025-07-19 12:20:08
		</span>
	</p><p class="releaseinfo">
</p></div><div><p class="copyright">版权 © 2010-2019 Netkiller(Neo Chan). All rights reserved.</p></div><div><div class="legalnotice"><a id="legalnotice"></a>
	<p class="legalnotice-title"><strong>版权声明</strong></p>
	<p>转载请与作者联系，转载时请务必标明文章原始出处和作者信息及本声明。</p>

	<table border="0" summary="Simple list" class="simplelist"><tr><td>
			<a class="ulink" href="images/cover.png" target="_top">
				<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="250"><tr><td><img src="images/cover.png" width="250" /></td></tr></table></div>
			</a>
		</td><td>
			<p></p>
		</td><td>
			<table border="0" summary="Simple list" class="simplelist"><tr><td>
					<table border="0" summary="Simple list" class="simplelist"><tr><td>
							<a class="ulink" href="https://creativecommons.org/licenses/by/4.0/" target="_top">
								<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="180"><tr><td><img src="/images/by-nc-sa.png" width="180" /></td></tr></table></div>
							</a>
						</td></tr><tr><td>
							<a class="ulink" href="http://www.netkiller.cn" target="_top">http://www.netkiller.cn</a>
						</td></tr><tr><td>
							<a class="ulink" href="http://netkiller.github.io/" target="_top">http://netkiller.github.io</a>
						</td></tr><tr><td>
							<a class="ulink" href="http://netkiller.sourceforge.net/" target="_top">http://netkiller.sourceforge.net</a>
						</td></tr><tr><td>微信公众号: netkiller</td></tr><tr><td>微信：13113668890 请注明“读者”</td></tr><tr><td>QQ：13721218 请注明“读者”</td></tr><tr><td>QQ群：128659835 请注明“读者”</td></tr><tr><td></td></tr><tr><td>
							<a class="ulink" href="https://zhuanlan.zhihu.com/netkiller" target="_top">知乎专栏</a>
						</td></tr></table>
				</td><td>
					<a class="ulink" href="images/wechat.png" target="_top">
						<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="600"><tr><td><img src="images/wechat.png" width="600" /></td></tr></table></div>
					</a>
				</td></tr></table>
		</td></tr></table>
</div></div><div><p class="pubdate">2017-02-13</p></div></div><hr /></div><div class="dedication"><div class="titlepage"><div><div><h1 class="title"><a id="dedication"></a>致读者</h1></div></div></div>
	
	
	<table border="0" summary="Simple list" class="simplelist"><tr><td>
			<a class="ulink" href="https://archiveprogram.github.com/arctic-vault/" target="_top">
				<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="NaN"><tr><td><img src="images/logo/badge--acv-64.png" width="NaN" /></td></tr></table></div>
			</a>
		</td><td>
			<p>Netkiller 系列手札 已经被 Github 收录，并备份保存在北极地下250米深的代码库中，备份会保留1000年。</p>
			<p>Preserving open source software for future generations</p>
			<p>The world is powered by open source software. It is a hidden cornerstone of modern civilization, and the shared heritage of all humanity.</p>
			<p>The GitHub Arctic Code Vault is a data repository preserved in the Arctic World Archive (AWA), a very-long-term archival facility 250 meters deep in the permafrost of an Arctic mountain.</p>
			<p>We are collaborating with the Bodleian Library in Oxford, the Bibliotheca Alexandrina in Egypt, and Stanford Libraries in California to store copies of 17,000 of GitHub’s most popular and most-depended-upon projects—open source’s “greatest hits”—in their archives, in museum-quality cases, to preserve them for future generations.</p>
			<p>
				<a class="ulink" href="https://archiveprogram.github.com/arctic-vault/" target="_top">https://archiveprogram.github.com/arctic-vault/</a>
			</p>
		</td></tr></table>
</div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="preface"><a href="preface.html">1. 自述</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#reader">1.1. 写给读者</a></span></dt><dt><span class="section"><a href="author.html">1.2. 作者简介</a></span></dt><dt><span class="section"><a href="preface.download.html">1.3. 如何获得文档</a></span></dt><dt><span class="section"><a href="donations.html">1.4. 打赏（Donations）</a></span></dt><dt><span class="section"><a href="contacts.html">1.5. 联系方式</a></span></dt></dl></dd><dt><span class="chapter"><a href="letsencrypt/index.html">1. Let's Encrypt's 免费SSL证书</a></span></dt><dd><dl><dt><span class="section"><a href="letsencrypt/index.html#letsencrypt.install">1.1. 安装 certbot 工具</a></span></dt><dd><dl><dt><span class="section"><a href="letsencrypt/index.html#id770">1.1.1. CentOS/Rocky Linux</a></span></dt><dt><span class="section"><a href="letsencrypt/index.html#id771">1.1.2. Ubuntu</a></span></dt></dl></dd><dt><span class="section"><a href="letsencrypt/letsencrypt.webroot.html">1.2. 生成证书，HTTP 文件认证</a></span></dt><dt><span class="section"><a href="letsencrypt/letsencrypt.dns.html">1.3. 手工生成证书，基于 DNS 认证</a></span></dt><dt><span class="section"><a href="letsencrypt/letsencrypt.update.html">1.4. 证书更新</a></span></dt></dl></dd><dt><span class="chapter"><a href="nginx/index.html">2. Nginx</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/index.html#install">2.1. Installing</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/index.html#oscm">2.1.1. Netkiller OSCM 一键安装 （CentOS 7）</a></span></dt><dt><span class="section"><a href="nginx/index.html#ubuntu">2.1.2. Installing by apt-get under the debain/ubuntu</a></span></dt><dt><span class="section"><a href="nginx/index.html#centos">2.1.3. CentOS</a></span></dt><dt><span class="section"><a href="nginx/index.html#source">2.1.4. installing by source</a></span></dt><dt><span class="section"><a href="nginx/index.html#centos7">2.1.5. CentOS 7</a></span></dt><dt><span class="section"><a href="nginx/index.html#mac">2.1.6. Mac</a></span></dt><dt><span class="section"><a href="nginx/index.html#logrotate">2.1.7. rotate log</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/nginx.param.html">2.2. Nginx 命令</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/nginx.param.html#id775">2.2.1. -V show version and configure options then exit</a></span></dt><dt><span class="section"><a href="nginx/nginx.param.html#id776">2.2.2. -t : test configuration and exit</a></span></dt><dt><span class="section"><a href="nginx/nginx.param.html#id777">2.2.3. test configuration, dump it and exit</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/conf.html">2.3. nginx.conf 配置文件</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/conf.html#worker_processes">2.3.1. 处理器配置</a></span></dt><dt><span class="section"><a href="nginx/conf.html#events">2.3.2. events 配置</a></span></dt><dt><span class="section"><a href="nginx/conf.html#var">2.3.3. Nginx 变量</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/http.html">2.4. http 配置</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/http.html#id783">2.4.1. 缓冲区相关设置</a></span></dt><dt><span class="section"><a href="nginx/http.html#timeout">2.4.2. 超时设置</a></span></dt><dt><span class="section"><a href="nginx/http.html#gzip">2.4.3. gzip</a></span></dt><dt><span class="section"><a href="nginx/http.html#server_tokens">2.4.4. server_tokens</a></span></dt><dt><span class="section"><a href="nginx/http.html#ssi">2.4.5. ssi</a></span></dt><dt><span class="section"><a href="nginx/http.html#http.resolver">2.4.6. DNS 解析</a></span></dt><dt><span class="section"><a href="nginx/http.html#rewrite">2.4.7. rewrite</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/server.html">2.5. server</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/server.html#listen">2.5.1. listen</a></span></dt><dt><span class="section"><a href="nginx/server.html#server_name">2.5.2. server_name 配置</a></span></dt><dt><span class="section"><a href="nginx/server.html#http.server.location">2.5.3. location</a></span></dt><dt><span class="section"><a href="nginx/server.html#root">2.5.4. root 通过$host智能匹配目录</a></span></dt><dt><span class="section"><a href="nginx/server.html#alias">2.5.5. alias</a></span></dt><dt><span class="section"><a href="nginx/server.html#try_files">2.5.6. try_files</a></span></dt><dt><span class="section"><a href="nginx/server.html#http.server.ssl">2.5.7. SSL 虚拟主机</a></span></dt><dt><span class="section"><a href="nginx/server.html#http2">2.5.8. HTTP2 配置 SSL证书</a></span></dt><dt><span class="section"><a href="nginx/server.html#expires">2.5.9. expires</a></span></dt><dt><span class="section"><a href="nginx/server.html#access">2.5.10. access</a></span></dt><dt><span class="section"><a href="nginx/server.html#autoindex">2.5.11. autoindex</a></span></dt><dt><span class="section"><a href="nginx/server.html#return">2.5.12. return</a></span></dt><dt><span class="section"><a href="nginx/server.html#add_header">2.5.13. add_header</a></span></dt><dt><span class="section"><a href="nginx/server.html#client_max_body_size">2.5.14. client_max_body_size 上传文件尺寸限制</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/upstream.html">2.6. upstream 负载均衡</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/upstream.html#id810">2.6.1. weight 权重配置</a></span></dt><dt><span class="section"><a href="nginx/upstream.html#id811">2.6.2. backup 实现热备</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html">2.7. Proxy</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.proxy_cache">2.7.1. proxy_cache</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.rewrite">2.7.2. rewrite + proxy_pass</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.request_filename">2.7.3. request_filename + proxy_pass</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.request_uri">2.7.4. $request_uri 与  proxy_pass 联合使用</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.try_files">2.7.5. try_files 与 proxy_pass 共用</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.ssi">2.7.6. Proxy 与 SSI</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.host">2.7.7. Host</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.expires">2.7.8. expires</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.x-forwarded-for">2.7.9. X-Forwarded-For</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.xsendfile">2.7.10. X-Sendfile</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy_http_version">2.7.11. proxy_http_version</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy_set_header">2.7.12. proxy_set_header</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy_hide_header">2.7.13. 隐藏头部信息</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy_ignore_headers">2.7.14. 忽略头</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy_pass_request_headers">2.7.15. proxy_pass_request_headers 透传 Header</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.timeout">2.7.16. timeout 超时时间</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.sub_filter">2.7.17. sub_filter 文本替换</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.url">2.7.18. 站外代理</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#id812">2.7.19. Proxy SSE(Server-Sent Events)</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.example">2.7.20. example</a></span></dt><dt><span class="section"><a href="nginx/ngx_http_proxy_module.html#proxy.httpauth">2.7.21. HTTP Auth 认证冲突</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/fastcgi.html">2.8. fastcgi</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/fastcgi.html#fastcgi.spawn-fcgi">2.8.1. spawn-fcgi</a></span></dt><dt><span class="section"><a href="nginx/fastcgi.html#fastcgi.php-fpm">2.8.2. php-fpm</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/module.html">2.9. Nginx module</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/module.html#stub_status">2.9.1. stub_status 服务器状态采集模块</a></span></dt><dt><span class="section"><a href="nginx/module.html#sub_filter">2.9.2. sub_filter 页面中查找和替换</a></span></dt><dt><span class="section"><a href="nginx/module.html#auth_basic">2.9.3. auth_basic HTTP 认证模块</a></span></dt><dt><span class="section"><a href="nginx/module.html#valid_referers">2.9.4. valid_referers</a></span></dt><dt><span class="section"><a href="nginx/module.html#ngx_http_flv_module">2.9.5. ngx_http_flv_module</a></span></dt><dt><span class="section"><a href="nginx/module.html#ngx_http_mp4_module">2.9.6. ngx_http_mp4_module</a></span></dt><dt><span class="section"><a href="nginx/module.html#limit_zone">2.9.7. limit_zone</a></span></dt><dt><span class="section"><a href="nginx/module.html#image_filter">2.9.8. image_filter</a></span></dt><dt><span class="section"><a href="nginx/module.html#ngx_stream_proxy_module">2.9.9. ngx_stream_proxy_module</a></span></dt><dt><span class="section"><a href="nginx/module.html#ngx_http_mirror_module">2.9.10. ngx_http_mirror_module</a></span></dt><dt><span class="section"><a href="nginx/module.html#limit_except">2.9.11. limit_except</a></span></dt><dt><span class="section"><a href="nginx/module.html#proxy.geoip_country_code">2.9.12. geoip_country_code</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/nginx.example.html">2.10. Example</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/nginx.example.html#tomcat">2.10.1. Nginx + Tomcat</a></span></dt><dt><span class="section"><a href="nginx/nginx.example.html#index.html">2.10.2. 拦截index.html</a></span></dt><dt><span class="section"><a href="nginx/nginx.example.html#session_cookie">2.10.3. Session 的 Cookie 域处理</a></span></dt></dl></dd><dt><span class="section"><a href="nginx/faq.html">2.11. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="nginx/faq.html#405">2.11.1. 405 Not Allowed?</a></span></dt><dt><span class="section"><a href="nginx/faq.html#413">2.11.2. 413 Request Entity Too Large</a></span></dt><dt><span class="section"><a href="nginx/faq.html#499">2.11.3. 499 Client Closed Request</a></span></dt><dt><span class="section"><a href="nginx/faq.html#502">2.11.4. 502 Bad Gateway?</a></span></dt><dt><span class="section"><a href="nginx/faq.html#504">2.11.5. 504 Gateway Time-out</a></span></dt><dt><span class="section"><a href="nginx/faq.html#faq.proxy_pass">2.11.6. proxy_pass</a></span></dt><dt><span class="section"><a href="nginx/faq.html#session">2.11.7. proxy_pass SESSION 丢失问题</a></span></dt><dt><span class="section"><a href="nginx/faq.html#faq.worker_rlimit_nofile">2.11.8. [alert] 55785#0: *11449 socket() failed (24: Too many open files) while connecting to upstream</a></span></dt><dt><span class="section"><a href="nginx/faq.html#faq.server_name">2.11.9. server_name 与 SSI 注意事项</a></span></dt><dt><span class="section"><a href="nginx/faq.html#faq.location">2.11.10. location 跨 document_root 引用，引用 document_root 之外的资源</a></span></dt><dt><span class="section"><a href="nginx/faq.html#id824">2.11.11. nginx: [warn] duplicate MIME type "text/html" in /etc/nginx/nginx.conf</a></span></dt><dt><span class="section"><a href="nginx/faq.html#id825">2.11.12. 127.0.0.1:8080 failed</a></span></dt><dt><span class="section"><a href="nginx/faq.html#id826">2.11.13. failed (13: Permission denied) while connecting to upstream</a></span></dt><dt><span class="section"><a href="nginx/faq.html#id827">2.11.14. upstream sent too big header while reading response header from upstream</a></span></dt><dt><span class="section"><a href="nginx/faq.html#id828">2.11.15. 很目录 index.html 正常访问，其他文件都是 404</a></span></dt><dt><span class="section"><a href="nginx/faq.html#nginx.http2">2.11.16. nginx: [warn] the "listen ... http2" directive is deprecated, use the "http2" directive instead</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="openresty/index.html">3. Openresty</a></span></dt><dd><dl><dt><span class="section"><a href="openresty/index.html#id830">3.1. 安装 Openresty</a></span></dt><dd><dl><dt><span class="section"><a href="openresty/index.html#id829">3.1.1. 源码安装</a></span></dt></dl></dd><dt><span class="section"><a href="openresty/ch03s02.html">3.2. Openresty 开发</a></span></dt><dd><dl><dt><span class="section"><a href="openresty/ch03s02.html#id831">3.2.1. Hello world!!!</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id832">3.2.2. 日期和时间</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id834">3.2.3. 数据结构</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id835">3.2.4. echo 输出</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#openresty.args">3.2.5. 参数处理</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id842">3.2.6. Nginx 变量</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id844">3.2.7. Json</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id845">3.2.8. Redis</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id846">3.2.9. Nginx 缓存</a></span></dt><dt><span class="section"><a href="openresty/ch03s02.html#id847">3.2.10. logs</a></span></dt></dl></dd><dt><span class="section"><a href="openresty/ch03s03.html">3.3. 实现灰度发布</a></span></dt><dt><span class="section"><a href="openresty/ch03s04.html">3.4. Redis</a></span></dt></dl></dd><dt><span class="chapter"><a href="caddy/index.html">4. Caddy</a></span></dt><dd><dl><dt><span class="section"><a href="caddy/index.html#id849">4.1. 安装 Caddy</a></span></dt><dd><dl><dt><span class="section"><a href="caddy/index.html#id848">4.1.1. CentOS/Rocky Linux/AlmiLinux</a></span></dt></dl></dd><dt><span class="section"><a href="caddy/ch04s02.html">4.2. 命令行</a></span></dt><dd><dl><dt><span class="section"><a href="caddy/ch04s02.html#id851">4.2.1. 启动 Caddy</a></span></dt><dt><span class="section"><a href="caddy/ch04s02.html#id852">4.2.2. 文件服务器</a></span></dt></dl></dd><dt><span class="section"><a href="caddy/ch04s03.html">4.3. /etc/caddy/Caddyfile</a></span></dt><dd><dl><dt><span class="section"><a href="caddy/ch04s03.html#id853">4.3.1. 监听地址</a></span></dt><dt><span class="section"><a href="caddy/ch04s03.html#id854">4.3.2. 反向代理</a></span></dt><dt><span class="section"><a href="caddy/ch04s03.html#id855">4.3.3. Let's Encrypt 免费 SSL 证书</a></span></dt><dt><span class="section"><a href="caddy/ch04s03.html#id856">4.3.4. 返回内容</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="tomcat/index.html">5. Apache Tomcat</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/index.html#install">5.1. Tomcat 安装与配置</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/index.html#tomcat6">5.1.1. Tomcat 6</a></span></dt><dt><span class="section"><a href="tomcat/index.html#tomcat7">5.1.2. Tomcat 7</a></span></dt><dt><span class="section"><a href="tomcat/index.html#tomcat8">5.1.3. Java 8 + Tomcat 8</a></span></dt><dt><span class="section"><a href="tomcat/index.html#tomcat9">5.1.4. Tomcat 9/10</a></span></dt><dt><span class="section"><a href="tomcat/index.html#firewall">5.1.5. 防火墙配置</a></span></dt><dt><span class="section"><a href="tomcat/index.html#multiple-instances">5.1.6. 同时运行多实例</a></span></dt><dt><span class="section"><a href="tomcat/index.html#test">5.1.7. Testing file</a></span></dt><dt><span class="section"><a href="tomcat/index.html#mod_jk">5.1.8. mod_jk</a></span></dt><dt><span class="section"><a href="tomcat/index.html#proxy_ajp">5.1.9. mod_proxy_ajp</a></span></dt><dt><span class="section"><a href="tomcat/index.html#rewrite">5.1.10. RewriteEngine 连接 Tomcat</a></span></dt><dt><span class="section"><a href="tomcat/index.html#id864">5.1.11. SSL 双向认证</a></span></dt></dl></dd><dt><span class="section"><a href="tomcat/conf.html">5.2. 配置 Tomcat 服务器</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/conf.html#server.xml">5.2.1. server.xml</a></span></dt><dt><span class="section"><a href="tomcat/conf.html#tomcat-users.xml">5.2.2. tomcat-users.xml</a></span></dt><dt><span class="section"><a href="tomcat/conf.html#context.xml">5.2.3. context.xml</a></span></dt><dt><span class="section"><a href="tomcat/conf.html#logging.properties">5.2.4. logging.properties</a></span></dt><dt><span class="section"><a href="tomcat/conf.html#id869">5.2.5. catalina.properties</a></span></dt></dl></dd><dt><span class="section"><a href="tomcat/vhost.html">5.3. 虚拟主机配置</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/vhost.html#id870">5.3.1. 方案一</a></span></dt><dt><span class="section"><a href="tomcat/vhost.html#id871">5.3.2. 方案二</a></span></dt><dt><span class="section"><a href="tomcat/vhost.html#alias">5.3.3. Alias 别名</a></span></dt><dt><span class="section"><a href="tomcat/vhost.html#access_log">5.3.4. access_log</a></span></dt><dt><span class="section"><a href="tomcat/vhost.html#context">5.3.5. Context 配置</a></span></dt><dt><span class="section"><a href="tomcat/vhost.html#name">5.3.6. 主机绑定IP地址</a></span></dt></dl></dd><dt><span class="section"><a href="tomcat/ssi.html">5.4. SSI</a></span></dt><dt><span class="section"><a href="tomcat/logs.html">5.5. Logging 日志</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/logs.html#log4j">5.5.1. 开启 debug 模式</a></span></dt><dt><span class="section"><a href="tomcat/logs.html#id872">5.5.2. 切割 catalina.out 日志</a></span></dt></dl></dd><dt><span class="section"><a href="tomcat/script.html">5.6. Init.d Script</a></span></dt><dd><dl><dt><span class="section"><a href="tomcat/script.html#id873">5.6.1. Script 1</a></span></dt><dt><span class="section"><a href="tomcat/script.html#id874">5.6.2. Shell Script 2</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="httpd/index.html">6. Apache httpd</a></span></dt><dd><dl><dt><span class="section"><a href="httpd/index.html#install">6.1. Install</a></span></dt><dd><dl><dt><span class="section"><a href="httpd/index.html#id883">6.1.1. Quick install apache with aptitude</a></span></dt><dt><span class="section"><a href="httpd/index.html#httpd">6.1.2. CentOS 6</a></span></dt><dt><span class="section"><a href="httpd/index.html#src">6.1.3. Compile and then install Apache</a></span></dt><dt><span class="section"><a href="httpd/index.html#xampp">6.1.4. XAMPP</a></span></dt></dl></dd><dt><span class="section"><a href="httpd/module.html">6.2. Module</a></span></dt><dd><dl><dt><span class="section"><a href="httpd/module.html#id893">6.2.1. Output a list of modules compiled into the server. </a></span></dt><dt><span class="section"><a href="httpd/module.html#core">6.2.2. Core</a></span></dt><dt><span class="section"><a href="httpd/module.html#mpm">6.2.3. mpm</a></span></dt><dt><span class="section"><a href="httpd/module.html#log">6.2.4. Apache Log</a></span></dt><dt><span class="section"><a href="httpd/module.html#mod_access">6.2.5. mod_access</a></span></dt><dt><span class="section"><a href="httpd/module.html#vhost">6.2.6. VirtualHost</a></span></dt><dt><span class="section"><a href="httpd/module.html#alias">6.2.7. Alias / AliasMatch</a></span></dt><dt><span class="section"><a href="httpd/module.html#redirect">6.2.8. Redirect / RedirectMatch</a></span></dt><dt><span class="section"><a href="httpd/module.html#rewrite">6.2.9. Rewrite</a></span></dt><dt><span class="section"><a href="httpd/module.html#proxy">6.2.10. Proxy</a></span></dt><dt><span class="section"><a href="httpd/module.html#deflate">6.2.11. Deflate</a></span></dt><dt><span class="section"><a href="httpd/module.html#expires">6.2.12. Expires</a></span></dt><dt><span class="section"><a href="httpd/module.html#cache">6.2.13. Cache</a></span></dt><dt><span class="section"><a href="httpd/module.html#usertrack">6.2.14. usertrack</a></span></dt><dt><span class="section"><a href="httpd/module.html#charset">6.2.15. Charset</a></span></dt><dt><span class="section"><a href="httpd/module.html#dir">6.2.16. Dir</a></span></dt><dt><span class="section"><a href="httpd/module.html#ssi">6.2.17. Includes</a></span></dt><dt><span class="section"><a href="httpd/module.html#status">6.2.18. Apache Status</a></span></dt><dt><span class="section"><a href="httpd/module.html#mod_perl">6.2.19. Mod Perl</a></span></dt><dt><span class="section"><a href="httpd/module.html#mod_pagespeed">6.2.20. mod_pagespeed - </a></span></dt><dt><span class="section"><a href="httpd/module.html#faq">6.2.21. Module FAQ</a></span></dt><dt><span class="section"><a href="httpd/module.html#httpd.mod_setenvif">6.2.22. mod_setenvif</a></span></dt><dt><span class="section"><a href="httpd/module.html#mod_php5">6.2.23. PHP 程序安全问题 php_admin_value</a></span></dt><dt><span class="section"><a href="httpd/module.html#mod_spdy">6.2.24. mod_spdy</a></span></dt></dl></dd><dt><span class="section"><a href="httpd/referal.html">6.3. 设置Apache实现防盗连</a></span></dt><dt><span class="section"><a href="httpd/htaccess.html">6.4. .htaccess</a></span></dt><dt><span class="section"><a href="httpd/error.html">6.5. Error Prompt</a></span></dt><dd><dl><dt><span class="section"><a href="httpd/error.html#id920">6.5.1. Invalid command 'Order', perhaps misspelled or defined by a module not included in the server configuration</a></span></dt><dt><span class="section"><a href="httpd/error.html#id921">6.5.2. Invalid command 'AuthUserFile', perhaps misspelled or defined by a module not included in the server configuration</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="lighttpd/index.html">7. Lighttpd</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/index.html#lighttpd.install">7.1. 安装Lighttpd</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/index.html#lighttpd.install.apt-get">7.1.1. quick install with aptitude</a></span></dt><dt><span class="section"><a href="lighttpd/index.html#lighttpd.install.yum">7.1.2. yum install</a></span></dt><dt><span class="section"><a href="lighttpd/index.html#lighttpd.compile">7.1.3. to compile and then install lighttpd</a></span></dt></dl></dd><dt><span class="section"><a href="lighttpd/lighttpd.config.html">7.2. /etc/lighttpd/lighttpd.conf</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/lighttpd.config.html#lighttpd.server.max-fds">7.2.1. max-worker / max-fds</a></span></dt><dt><span class="section"><a href="lighttpd/lighttpd.config.html#lighttpd.accesslog.filename">7.2.2. accesslog.filename</a></span></dt><dt><span class="section"><a href="lighttpd/lighttpd.config.html#lighttpd.etags">7.2.3. ETags</a></span></dt><dt><span class="section"><a href="lighttpd/lighttpd.config.html#lighttpd.server.tag">7.2.4. server.tag</a></span></dt></dl></dd><dt><span class="section"><a href="lighttpd/module.html">7.3. Module</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/module.html#mod_simple_vhost">7.3.1. simple_vhost</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#ssl">7.3.2. ssl</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#redirect">7.3.3. redirect</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#rewrite">7.3.4. rewrite</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#alias">7.3.5. alias</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#auth">7.3.6. auth</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#compress">7.3.7. compress</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#expire">7.3.8. expire</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#status">7.3.9. status</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#setenv">7.3.10. setenv</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#fastcgi">7.3.11. fastcgi</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#user-agent">7.3.12. user-agent</a></span></dt><dt><span class="section"><a href="lighttpd/module.html#ngx_http_spdy_module">7.3.13. spdy</a></span></dt></dl></dd><dt><span class="section"><a href="lighttpd/other.html">7.4. 其他模块</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/other.html#mod_secdownload">7.4.1. mod_secdownload 防盗链</a></span></dt></dl></dd><dt><span class="section"><a href="lighttpd/lighttpd.example.html">7.5. Example</a></span></dt><dd><dl><dt><span class="section"><a href="lighttpd/lighttpd.example.html#id930">7.5.1. s-maxage</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="resin/index.html">8. Resin</a></span></dt><dd><dl><dt><span class="section"><a href="resin/index.html#install">8.1. 安装Resin</a></span></dt><dd><dl><dt><span class="section"><a href="resin/index.html#id931">8.1.1. 直接使用</a></span></dt><dt><span class="section"><a href="resin/index.html#id932">8.1.2. Debian/Ubuntu</a></span></dt><dt><span class="section"><a href="resin/index.html#id933">8.1.3. 源码安装Resin</a></span></dt></dl></dd><dt><span class="section"><a href="resin/caucho.html">8.2. Compiling mod_caucho.so</a></span></dt><dt><span class="section"><a href="resin/conf.html">8.3. resin.conf</a></span></dt><dd><dl><dt><span class="section"><a href="resin/conf.html#id934">8.3.1. Maximum number of threads</a></span></dt><dt><span class="section"><a href="resin/conf.html#id935">8.3.2. Configures the keepalive</a></span></dt><dt><span class="section"><a href="resin/conf.html#id936">8.3.3. ssl</a></span></dt></dl></dd><dt><span class="section"><a href="resin/vhost.html">8.4. virtual hosts</a></span></dt><dd><dl><dt><span class="section"><a href="resin/vhost.html#id937">8.4.1. explicit host</a></span></dt><dt><span class="section"><a href="resin/vhost.html#id938">8.4.2. regexp host</a></span></dt><dt><span class="section"><a href="resin/vhost.html#id939">8.4.3. host-alias</a></span></dt><dt><span class="section"><a href="resin/vhost.html#id940">8.4.4. configures a deployment directory for virtual hosts</a></span></dt><dt><span class="section"><a href="resin/vhost.html#id941">8.4.5. Resources</a></span></dt></dl></dd><dt><span class="section"><a href="resin/faq.html">8.5. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="resin/faq.html#id942">8.5.1. java.lang.OutOfMemoryError: PermGen space</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="app.html">9. Application Server</a></span></dt><dd><dl><dt><span class="section"><a href="app.html#zope">9.1. Zope</a></span></dt><dt><span class="section"><a href="jboss.html">9.2. JBoss - JBoss Enterprise Middleware</a></span></dt></dl></dd><dt><span class="chapter"><a href="varnish/index.html">10. varnish - a state-of-the-art, high-performance HTTP accelerator</a></span></dt><dd><dl><dt><span class="section"><a href="varnish/index.html#install">10.1. Varnish Install</a></span></dt><dt><span class="section"><a href="varnish/utility.html">10.2. varnish utility</a></span></dt><dd><dl><dt><span class="section"><a href="varnish/utility.html#id943">10.2.1. status</a></span></dt><dt><span class="section"><a href="varnish/utility.html#id945">10.2.2. varnishadm</a></span></dt><dt><span class="section"><a href="varnish/utility.html#id946">10.2.3. varnishtop</a></span></dt><dt><span class="section"><a href="varnish/utility.html#id947">10.2.4. varnishhist</a></span></dt><dt><span class="section"><a href="varnish/utility.html#id948">10.2.5. varnishsizes</a></span></dt></dl></dd><dt><span class="section"><a href="varnish/log.html">10.3. log file</a></span></dt><dt><span class="section"><a href="varnish/vcl.html">10.4. Varnish Configuration Language - VCL</a></span></dt><dd><dl><dt><span class="section"><a href="varnish/vcl.html#id949">10.4.1. unset / set</a></span></dt></dl></dd><dt><span class="section"><a href="varnish/example.html">10.5. example</a></span></dt></dl></dd><dt><span class="chapter"><a href="trafficserver.html">11. Apache Traffic Server</a></span></dt><dd><dl><dt><span class="section"><a href="trafficserver.html#ts.install">11.1. Install</a></span></dt><dt><span class="section"><a href="tc.config.html">11.2. Configure</a></span></dt></dl></dd><dt><span class="chapter"><a href="cherokee.html">12. Cherokee</a></span></dt><dd><dl><dt><span class="section"><a href="cherokee.html#cherokee.install">12.1. Installing Cherokee</a></span></dt></dl></dd><dt><span class="chapter"><a href="jetty.html">13. Jetty</a></span></dt><dt><span class="chapter"><a href="other.www.html">14. Other Web Server</a></span></dt><dd><dl><dt><span class="section"><a href="other.www.html#python.simplehttpserver">14.1. Python SimpleHTTPServer</a></span></dt></dl></dd><dt><span class="chapter"><a href="http.rank.html">15. web 服务器排名</a></span></dt><dd><dl><dt><span class="section"><a href="http.rank.html#http.status">15.1. HTTP状态码</a></span></dt></dl></dd><dt><span class="chapter"><a href="optimization.html">16. Web Server Optimization</a></span></dt><dd><dl><dt><span class="section"><a href="optimization.html#chrome">16.1. Chrome</a></span></dt><dt><span class="section"><a href="ulimit.html">16.2. ulimit</a></span></dt><dd><dl><dt><span class="section"><a href="ulimit.html#id950">16.2.1. open files</a></span></dt></dl></dd><dt><span class="section"><a href="khttpd.html">16.3. khttpd</a></span></dt><dt><span class="section"><a href="php.ini.html">16.4. php.ini</a></span></dt><dd><dl><dt><span class="section"><a href="php.ini.html#id951">16.4.1. Resource Limits</a></span></dt><dt><span class="section"><a href="php.ini.html#id952">16.4.2. File Uploads </a></span></dt><dt><span class="section"><a href="php.ini.html#id953">16.4.3. Session Shared</a></span></dt><dt><span class="section"><a href="php.ini.html#id954">16.4.4. PATHINFO</a></span></dt></dl></dd><dt><span class="section"><a href="php.apc.html">16.5. APC Cache (php-apc - APC (Alternative PHP Cache) module for PHP 5)</a></span></dt><dt><span class="section"><a href="php.zend.html">16.6. Zend Optimizer</a></span></dt><dt><span class="section"><a href="php.eaccelerator.html">16.7. eaccelerator</a></span></dt></dl></dd></dl></div><div class="list-of-examples"><p><strong>范例清单</strong></p><dl><dt>2.1. <a href="nginx/server.html#id955">Nginx SSL 双向认证，证书生成过程</a></dt><dt>2.2. <a href="nginx/server.html#id956">Expires Examples</a></dt><dt>2.3. <a href="nginx/server.html#id957">nginx expires</a></dt><dt>2.4. <a href="nginx/module.html#id958">Example: valid_referers</a></dt><dt>2.5. <a href="nginx/nginx.example.html#id959">Nginx + Tomcat</a></dt><dt>5.1. <a href="tomcat/index.html#id960">/etc/profile.d/java.sh</a></dt><dt>5.2. <a href="tomcat/index.html#id961">/etc/init.d/tomcat</a></dt><dt>5.3. <a href="tomcat/index.html#id962">Example /srv/apache-tomcat/conf</a></dt><dt>5.4. <a href="tomcat/index.html#id963">tomcat firewall</a></dt><dt>5.5. <a href="tomcat/script.html#id964">/etc/rc.d/init.d/www</a></dt><dt>6.1. <a href="httpd/index.html#index.php">index.php</a></dt><dt>6.2. <a href="httpd/index.html#id965">autolamp.sh</a></dt><dt>6.3. <a href="httpd/module.html#id966">R=301</a></dt><dt>6.4. <a href="httpd/module.html#id967">mod_perl.conf</a></dt><dt>7.1. <a href="lighttpd/index.html#id968">/etc/init.d/lighttpd</a></dt><dt>7.2. <a href="lighttpd/module.html#id969">lighttpd compress</a></dt><dt>7.3. <a href="lighttpd/module.html#id970">lighttpd expire</a></dt><dt>7.4. <a href="lighttpd/module.html#id971">fastcgi.conf</a></dt><dt>7.5. <a href="lighttpd/lighttpd.example.html#id972">Cache</a></dt><dt>8.1. <a href="resin/vhost.html#id973">explicit host in resin.conf</a></dt><dt>8.2. <a href="resin/vhost.html#id974">regexp host in resin.conf</a></dt><dt>8.3. <a href="resin/vhost.html#id975">host-alias in the resin.conf</a></dt><dt>8.4. <a href="resin/vhost.html#id976">host-alias in a /var/www/hosts/foo/host.xml</a></dt><dt>8.5. <a href="resin/vhost.html#id977">host-alias-regexp in the resin.conf</a></dt><dt>8.6. <a href="resin/vhost.html#id978">shared database in host</a></dt><dt>8.7. <a href="resin/vhost.html#id979">rewrite-dispatch</a></dt><dt>10.1. <a href="varnish/example.html#id980">default.vcl</a></dt></dl></div>
	

	


	



	

	

	


	

	

	



	

	

	
	

	


    

    




   	




</div><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="preface.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 自述</td></tr></table></div><script xmlns="">
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-11694057-1', 'auto');
			ga('send', 'pageview');

		</script><script xmlns="" async="async">
			var _hmt = _hmt || [];
			(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
			})();
</script><script xmlns="" async="async">
			(function(){
			var bp = document.createElement('script');
			var curProtocol = window.location.protocol.split(':')[0];
			if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
			}
			else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
			}
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(bp, s);
			})();
</script></body></html>