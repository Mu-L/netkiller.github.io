<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 20 章 Git - Fast Version Control System</title><link rel="stylesheet" type="text/css" href="../docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><meta name="keywords" content="&#10;&#9;&#9;&#9;&#9;ls $(git --exec-path) -1 | tr '\n ' ','&#10;&#9;&#9;&#9;, &#10;&#9;&#9;&#9;&#9;git,git-add,git-add--interactive,git-am,git-annotate,git-apply,git-archive,git-bisect,git-bisect--helper,git-blame,git-branch,git-bundle,git-cat-file,git-check-attr,git-checkout,git-checkout-index,git-check-ref-format,git-cherry,git-cherry-pick,git-clean,git-clone,git-commit,git-commit-tree,git-config,git-count-objects,git-daemon,git-describe,git-diff,git-diff-files,git-diff-index,git-difftool,git-difftool--helper,git-diff-tree,git-fast-export,git-fast-import,git-fetch,git-fetch-pack,git-filter-branch,git-fmt-merge-msg,git-for-each-ref,git-format-patch,git-fsck,git-fsck-objects,git-gc,git-get-tar-commit-id,git-grep,git-hash-object,git-help,git-http-backend,git-http-fetch,git-http-push,git-imap-send,git-index-pack,git-init,git-init-db,git-instaweb,git-log,git-lost-found,git-ls-files,git-ls-remote,git-ls-tree,git-mailinfo,git-mailsplit,git-merge,git-merge-base,git-merge-file,git-merge-index,git-merge-octopus,git-merge-one-file,git-merge-ours,git-merge-recursive,git-merge-resolve,git-merge-subtree,git-mergetool,git-mergetool--lib,git-merge-tree,git-mktag,git-mktree,git-mv,git-name-rev,git-notes,git-pack-objects,git-pack-redundant,git-pack-refs,git-parse-remote,git-patch-id,git-peek-remote,git-prune,git-prune-packed,git-pull,git-push,git-quiltimport,git-read-tree,git-rebase,git-rebase--interactive,git-receive-pack,git-reflog,git-relink,git-remote,git-remote-ftp,git-remote-ftps,git-remote-http,git-remote-https,git-remote-testgit,git-repack,git-replace,git-repo-config,git-request-pull,git-rerere,git-reset,git-revert,git-rev-list,git-rev-parse,git-rm,git-send-pack,git-shell,git-shortlog,git-show,git-show-branch,git-show-index,git-show-ref,git-sh-setup,git-stage,git-stash,git-status,git-stripspace,git-submodule,git-symbolic-ref,git-tag,git-tar-tree,git-unpack-file,git-unpack-objects,git-update-index,git-update-ref,git-update-server-info,git-upload-archive,git-upload-pack,git-var,git-verify-pack,git-verify-tag,git-web--browse,git-whatchanged,git-write-tree&#10;&#9;&#9;&#9;" /><meta name="keywords" content="&#10;svn, svnauthz-validate, svnlook,svn-populate-node-origins-index, svnsync, svnadmin, svndumpfilter, svnmucc, svnserve, svnversion&#10;&#9;&#9;&#9;, &#10;git,git-add,git-add--interactive,git-am,git-annotate,git-apply,git-archive,git-bisect,git-bisect--helper,git-blame,git-branch,git-bundle,git-cat-file,git-check-attr,git-checkout,git-checkout-index,git-check-ref-format,git-cherry,git-cherry-pick,git-clean,git-clone,git-commit,git-commit-tree,git-config,git-count-objects,git-daemon,git-describe,git-diff,git-diff-files,git-diff-index,git-difftool,git-difftool--helper,git-diff-tree,git-fast-export,git-fast-import,git-fetch,git-fetch-pack,git-filter-branch,git-fmt-merge-msg,git-for-each-ref,git-format-patch,git-fsck,git-fsck-objects,git-gc,git-get-tar-commit-id,git-grep,git-hash-object,git-help,git-http-backend,git-http-fetch,git-http-push,git-imap-send,git-index-pack,git-init,git-init-db,git-instaweb,git-log,git-lost-found,git-ls-files,git-ls-remote,git-ls-tree,git-mailinfo,git-mailsplit,git-merge,git-merge-base,git-merge-file,git-merge-index,git-merge-octopus,git-merge-one-file,git-merge-ours,git-merge-recursive,git-merge-resolve,git-merge-subtree,git-mergetool,git-mergetool--lib,git-merge-tree,git-mktag,git-mktree,git-mv,git-name-rev,git-notes,git-pack-objects,git-pack-redundant,git-pack-refs,git-parse-remote,git-patch-id,git-peek-remote,git-prune,git-prune-packed,git-pull,git-push,git-quiltimport,git-read-tree,git-rebase,git-rebase--interactive,git-receive-pack,git-reflog,git-relink,git-remote,git-remote-ftp,git-remote-ftps,git-remote-http,git-remote-https,git-remote-testgit,git-repack,git-replace,git-repo-config,git-request-pull,git-rerere,git-reset,git-revert,git-rev-list,git-rev-parse,git-rm,git-send-pack,git-shell,git-shortlog,git-show,git-show-branch,git-show-index,git-show-ref,git-sh-setup,git-stage,git-stash,git-status,git-stripspace,git-submodule,git-symbolic-ref,git-tag,git-tar-tree,git-unpack-file,git-unpack-objects,git-update-index,git-update-ref,git-update-server-info,git-upload-archive,git-upload-pack,git-var,git-verify-pack,git-verify-tag,git-web--browse,git-whatchanged,git-write-tree&#10;&#9;&#9;&#9;" /><link rel="home" href="../index.html" title="Netkiller DevOps 手札" /><link rel="up" href="../version.html" title="部分 III. 软件版本控制" /><link rel="prev" href="../version.html" title="部分 III. 软件版本控制" /><link rel="next" href="git.branch.html" title="20.2. 分支管理" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> |
		<a xmlns="" href="//netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="https://github.com/netkiller">Github</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
   	    <a xmlns="" href="https://edu.51cto.com/lecturer/1703915.html">51CTO学院</a> |
	    <a xmlns="" href="https://edu.csdn.net/lecturer/6423">CSDN程序员研修院</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://cloud.tencent.com/developer/column/2078">腾讯云社区</a> |
	    <a xmlns="" href="https://yq.aliyun.com/u/netkiller/">阿里云栖社区</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://www.youtube.com/user/bg7nyt/videos">Youtube</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/about.html">About</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 20 章 Git - Fast Version Control System</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="../version.html">上一页</a> </td><th width="60%" align="center">部分 III. 软件版本控制</th><td width="20%" align="right"> <a accesskey="n" href="git.branch.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td><td></td><td><a href="https://zhuanlan.zhihu.com/netkiller"><img src="/images/logo/zhihu-card-default.svg" height="25" /></a></td><td valign="middle"><a href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> ｜ <a href="https://www.zhihu.com/club/1241768772601950208">多维度架构</a></td><td></td><td></td><td></td><td></td></tr></table><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="index"></a>第 20 章 Git - Fast Version Control System</h2></div><div><h3 class="subtitle"><em>distributed revision control system</em></h3></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="index.html#repositories">20.1. Repositories 仓库管理</a></span></dt><dd><dl><dt><span class="section"><a href="index.html#git.init">20.1.1. initial setup</a></span></dt><dt><span class="section"><a href="index.html#git.clone">20.1.2. 克隆代码</a></span></dt><dt><span class="section"><a href="index.html#git.checkout">20.1.3. 切换分支</a></span></dt><dt><span class="section"><a href="index.html#git.add">20.1.4. git-add - Add file contents to the index</a></span></dt><dt><span class="section"><a href="index.html#git.commit">20.1.5. Creating and Commiting</a></span></dt><dt><span class="section"><a href="index.html#git.status">20.1.6. Status</a></span></dt><dt><span class="section"><a href="index.html#git.diff">20.1.7. Diff</a></span></dt><dt><span class="section"><a href="index.html#git.push">20.1.8. Push</a></span></dt><dt><span class="section"><a href="index.html#git.pull">20.1.9. Pull</a></span></dt><dt><span class="section"><a href="index.html#git.fetch">20.1.10. fetch</a></span></dt><dt><span class="section"><a href="index.html#git.patch">20.1.11. Creating a Patch</a></span></dt><dt><span class="section"><a href="index.html#git.reset">20.1.12. reset</a></span></dt></dl></dd><dt><span class="section"><a href="git.branch.html">20.2. 分支管理</a></span></dt><dd><dl><dt><span class="section"><a href="git.branch.html#branch.list">20.2.1. 查看本地分支</a></span></dt><dt><span class="section"><a href="git.branch.html#branch.create">20.2.2. 创建分支</a></span></dt><dt><span class="section"><a href="git.branch.html#branch.delete">20.2.3. 删除分支</a></span></dt><dt><span class="section"><a href="git.branch.html#branch.switch">20.2.4. 切换分支</a></span></dt><dt><span class="section"><a href="git.branch.html#idm524569410080">20.2.5. 重命名分支</a></span></dt><dt><span class="section"><a href="git.branch.html#git-show-branch">20.2.6. git-show-branch - Show branches and their commits</a></span></dt></dl></dd><dt><span class="section"><a href="git.remote.html">20.3. 远程仓库</a></span></dt><dd><dl><dt><span class="section"><a href="git.remote.html#git.remote.rename">20.3.1. 修改 origin</a></span></dt><dt><span class="section"><a href="git.remote.html#git.remote.remove">20.3.2. 删除 origin</a></span></dt><dt><span class="section"><a href="git.remote.html#idm524569397184">20.3.3. 仓库共享</a></span></dt></dl></dd><dt><span class="section"><a href="git.merge.html">20.4. 合并分支</a></span></dt><dd><dl><dt><span class="section"><a href="git.merge.html#idm524569387152">20.4.1. 合并分支</a></span></dt><dt><span class="section"><a href="git.merge.html#git.rebase">20.4.2. rebase</a></span></dt><dt><span class="section"><a href="git.merge.html#idm524569379344">20.4.3. 合并分支解决冲突</a></span></dt><dt><span class="section"><a href="git.merge.html#idm524569379088">20.4.4. 终止合并</a></span></dt><dt><span class="section"><a href="git.merge.html#idm524569367776">20.4.5. 合并单个文件</a></span></dt></dl></dd><dt><span class="section"><a href="git.log.html">20.5. git log</a></span></dt><dd><dl><dt><span class="section"><a href="git.log.html#idm524569362384">20.5.1. 一行显示 --oneline</a></span></dt><dt><span class="section"><a href="git.log.html#idm524569359360">20.5.2. 查看文件历史记录</a></span></dt></dl></dd><dt><span class="section"><a href="git.reflog.html">20.6. reflog</a></span></dt><dt><span class="section"><a href="git-show.html">20.7. git-show - Show various types of objects</a></span></dt><dd><dl><dt><span class="section"><a href="git-show.html#idm524569349776">20.7.1. 查看指定版本的文件内容</a></span></dt></dl></dd><dt><span class="section"><a href="submodule.html">20.8. Submodule 子模块</a></span></dt><dd><dl><dt><span class="section"><a href="submodule.html#submodule.add">20.8.1. 添加模块</a></span></dt><dt><span class="section"><a href="submodule.html#submodule.checkout">20.8.2. checkout 子模块</a></span></dt><dt><span class="section"><a href="submodule.html#submodule.rm">20.8.3. 删除子模块</a></span></dt></dl></dd><dt><span class="section"><a href="git.lfs.html">20.9. Git Large File Storage</a></span></dt><dd><dl><dt><span class="section"><a href="git.lfs.html#">20.9.1. 安装 LFS 支持</a></span></dt><dt><span class="section"><a href="git.lfs.html#lfs.lock">20.9.2. LFS lock</a></span></dt></dl></dd><dt><span class="section"><a href="git.command.html">20.10. command</a></span></dt><dd><dl><dt><span class="section"><a href="git.command.html#hash-object">20.10.1. hash-object</a></span></dt><dt><span class="section"><a href="git.command.html#git.config">20.10.2. git config</a></span></dt></dl></dd><dt><span class="section"><a href="git-daemon.html">20.11. git-daemon 服务器</a></span></dt><dd><dl><dt><span class="section"><a href="git-daemon.html#idm524569321936">20.11.1. git-daemon - A really simple server for git repositories</a></span></dt><dt><span class="section"><a href="git-daemon.html#git-daemon-sysvinit">20.11.2. git-daemon-sysvinit</a></span></dt><dt><span class="section"><a href="git-daemon.html#git.xinetd">20.11.3. inet.conf / xinetd 方式启动</a></span></dt><dt><span class="section"><a href="git-daemon.html#git-daemon-run">20.11.4. git-daemon-run</a></span></dt><dt><span class="section"><a href="git-daemon.html#git.daemon.test">20.11.5. Testing</a></span></dt></dl></dd><dt><span class="section"><a href="git.config.html">20.12. git config</a></span></dt><dd><dl><dt><span class="section"><a href="git.config.html#idm524569281872">20.12.1. 查看配置</a></span></dt><dt><span class="section"><a href="git.config.html#idm524569282032">20.12.2. 编辑配置</a></span></dt><dt><span class="section"><a href="git.config.html#idm524569278016">20.12.3. 替换配置项</a></span></dt><dt><span class="section"><a href="git.config.html#idm524569276624">20.12.4. 配置默认分之</a></span></dt><dt><span class="section"><a href="git.config.html#idm524569275376">20.12.5. GPG签名</a></span></dt><dt><span class="section"><a href="git.config.html#core.sshCommand">20.12.6. core.sshCommand</a></span></dt><dt><span class="section"><a href="git.config.html#http.postBuffer">20.12.7. fatal: The remote end hung up unexpectedly</a></span></dt><dt><span class="section"><a href="git.config.html#http.sslVerify">20.12.8. 忽略 SSL 检查</a></span></dt></dl></dd><dt><span class="section"><a href="git-svn.html">20.13. git-svn - Bidirectional operation between a single Subversion branch and git</a></span></dt><dt><span class="section"><a href="gitignore.html">20.14. .gitignore</a></span></dt><dt><span class="section"><a href="gitattributes.html">20.15. .gitattributes</a></span></dt><dd><dl><dt><span class="section"><a href="gitattributes.html#idm524569260864">20.15.1. SVN Keywords</a></span></dt></dl></dd><dt><span class="section"><a href="gitolite.html">20.16. gitolite - SSH-based gatekeeper for git repositories</a></span></dt><dd><dl><dt><span class="section"><a href="gitolite.html#gitolite-admin">20.16.1. gitolite-admin</a></span></dt></dl></dd><dt><span class="section"><a href="webui.html">20.17. Web Tools</a></span></dt><dd><dl><dt><span class="section"><a href="webui.html#viewgit">20.17.1. viewgit</a></span></dt></dl></dd><dt><span class="section"><a href="faq.html">20.18. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#HEAD">20.18.1. 导出最后一次修改过的文件</a></span></dt><dt><span class="section"><a href="faq.html#range">20.18.2. 导出指定版本区间修改过的文件</a></span></dt><dt><span class="section"><a href="faq.html#idm524570576624">20.18.3. 回撤提交</a></span></dt><dt><span class="section"><a href="faq.html#idm524570574192">20.18.4. 撤回单个文件提交</a></span></dt><dt><span class="section"><a href="faq.html#idm524570569872">20.18.5. 每个项目一个证书</a></span></dt><dt><span class="section"><a href="faq.html#idm524570566224">20.18.6. fatal: Not possible to fast-forward, aborting.</a></span></dt><dt><span class="section"><a href="faq.html#receive.denyCurrentBranch">20.18.7. receive.denyCurrentBranch</a></span></dt><dt><span class="section"><a href="faq.html#idm524570559216">20.18.8. 更新所有项目以及分支</a></span></dt></dl></dd></dl></div>
	
	
	
	<p>homepage: http://git.or.cz/index.html</p>
	<p></p>
	<div class="procedure"><a id="idm524569465376"></a><p class="title"><strong>过程 20.1. Git </strong></p><ol class="procedure" type="1"><li class="step">
			<p>install</p>
			<pre class="screen">
sudo apt-get install git-core
			</pre>
		</li><li class="step">
			<p>config</p>
			<pre class="screen">
			
$ git-config --global user.name neo
$ git-config --global user.email openunix@163.com
			
			</pre>
		</li><li class="step">
			<p>Initializ</p>
			<pre class="screen">
$ mkdir repository
$ cd repository/

/repository$ git-init-db
Initialized empty Git repository in .git/
			</pre>
			<p>to check .gitconfig file</p>
			<pre class="screen">
$ cat ~/.gitconfig
[user]
        name = chen
        email = openunix@163.com
			</pre>
		</li></ol></div>
	
	<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="repositories"></a>20.1. Repositories 仓库管理</h2></div></div></div>
		
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.init"></a>20.1.1. initial setup</h3></div></div></div>
			
			<p></p>
			<pre class="screen">
Tell git who you are:

$ git config user.name "FirstName LastName"
$ git config user.email "user@example.com"

If you have many git repositories under your current user, you can set this for all of them


$ git config --global user.name "FirstName LastName"
$ git config --global user.email "user@example.com"

If you want pretty colors, you can setup the following for branch, status, and diff commands:

$ git config --global color.branch "auto"
$ git config --global color.status "auto"
$ git config --global color.diff "auto"

Or, to turn all color options on (with git 1.5.5+), use:

$ git config --global color.ui "auto"
To enable aut-detection for number of threads to use (good for multi-CPU or multi-core computers) for packing repositories, use:


$ git config --global pack.threads "0"
To disable the rename detection limit (which is set "pretty low" according to Linus, "just to not cause problems for people who have less memory in their machines than kernel developers tend to have"), use:

$ git config --global   diff.renamelimit "0"
		</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.clone"></a>20.1.2. 克隆代码</h3></div></div></div>
			
			<p>克隆到指定目录</p>
			<pre class="screen">
			
➜  workspace git clone http://neo@192.168.30.5/netkiller.cn/api.netkiller.cn.git tmp.netkiller.cn			
			
			</pre>
			<p>克隆单分支（非 master）</p>
			<pre class="screen">
			
 git clone -b 分支名 https://xxx.git	
 git clone --branch &lt;branchname&gt; &lt;remote-repo-url&gt;		
			
			</pre>
			<pre class="screen">
		
$ git clone git://github.com/git/hello-world.git
$ cd hello-world
$ (edit files)
$ git add (files)
$ git commit -m 'Explain what I changed'

		
			</pre>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="git.restore"></a>20.1.2.1. 恢复文件</h4></div></div></div>
				
				<pre class="screen">
				
[root@grey lua]# git status
On branch grey
Your branch is up to date with 'origin/grey'.

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
	modified:   grey.lua

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
	cache.lua
	flush.lua

no changes added to commit (use "git add" and/or "git commit -a")

[root@grey lua]# git restore grey.lua
[root@grey lua]# git status
On branch grey
Your branch is up to date with 'origin/grey'.

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
	cache.lua
	flush.lua

nothing added to commit but untracked files present (use "git add" to track)
				
				
				</pre>
			</div>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.checkout"></a>20.1.3. 切换分支</h3></div><div><h4 class="subtitle">git-checkout - Checkout and switch to a branch</h4></div></div></div>
			
			
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569449200"></a>20.1.3.1. checkout master</h4></div></div></div>
				
				<pre class="screen">
$ git checkout master
Switched to branch "master"
			</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569447952"></a>20.1.3.2. checkout 分支</h4></div></div></div>
				
				<pre class="screen">
$ git branch
* master
  mybranch

$ git checkout mybranch
Switched to branch "mybranch"

$ git branch
  master
* mybranch
			</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569446592"></a>20.1.3.3. 通过 checkout 找回丢失的文件</h4></div></div></div>
				
				<p>setup.py 不经意间被删除，找到丢失那一刻的提交是 fda886b0ae1526020c366cea2b747b3ceda18ff6，通过 checkout 检出该文件</p>
				<pre class="screen">
				
git checkout fda886b0ae1526020c366cea2b747b3ceda18ff6 -- setup.py
				
				</pre>
				<p>重新添加到版本库中</p>
				<pre class="screen">
				
git add setup.py
git commit -a -m '还原丢失文件'
git push
				
				</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569443888"></a>20.1.3.4. checkout 所有远程分支</h4></div></div></div>
				
				<pre class="screen">
				
for branch in $(git branch -r | grep -v HEAD) ; do
# git checkout -b ${branch#*/} $branch;
git checkout ${branch#*/};
git pull;
done				
				
				</pre>
			</div>
		</div>

		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.add"></a>20.1.4. git-add - Add file contents to the index</h3></div></div></div>
			
			<pre class="screen">
		
$ echo 'hello world!!!'&gt; newfile
$ git-add newfile
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.commit"></a>20.1.5. Creating and Commiting</h3></div></div></div>
			
			<pre class="screen">
$ cd (project-directory)
$ git init
$ (add some files)
$ git add .
$ git commit -m 'Initial commit'
		</pre>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="git-commit"></a>20.1.5.1. git-commit - Record changes to the repository</h4></div></div></div>
				
				<pre class="screen">
$ git-commit -m 'add a new file' newfile
Created initial commit f6fda79: add a new file
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 newfile
		</pre>
			</div>
		</div>

		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.status"></a>20.1.6. Status</h3></div></div></div>
			
			<pre class="screen">
		
$ git clone git://10.10.0.5/example.git
Cloning into example...
remote: Counting objects: 5, done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 5 (delta 1), reused 0 (delta 0)
Receiving objects: 100% (5/5), done.
Resolving deltas: 100% (1/1), done.

neo@neo-OptiPlex-380:~/tmp$ cd example/

neo@neo-OptiPlex-380:~/tmp/example$ git status
# On branch master
nothing to commit (working directory clean)

neo@neo-OptiPlex-380:~/tmp/example$ ls
test1  test2  test3  test4

neo@neo-OptiPlex-380:~/tmp/example$ echo hello &gt; test1

neo@neo-OptiPlex-380:~/tmp/example$ git status
# On branch master
# Changes not staged for commit:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
#	modified:   test1
#
no changes added to commit (use "git add" and/or "git commit -a")
		
			</pre>

			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="git-status"></a>20.1.6.1. git-status - Show the working tree status</h4></div></div></div>
				
				<pre class="screen">
		
$ git-status newfile
# On branch master
#
# Initial commit
#
# Changes to be committed:
#   (use "git rm --cached &lt;file&gt;..." to unstage)
#
#       new file: newfile
#		
				</pre>
			</div>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.diff"></a>20.1.7. Diff</h3></div></div></div>
			
			<pre class="screen">
		
neo@neo-OptiPlex-380:~/tmp/example$ git diff
diff --git a/test1 b/test1
index e69de29..ce01362 100644
--- a/test1
+++ b/test1
@@ -0,0 +1 @@
+hello
		
			</pre>
			<p>比较 nqp-cc/src/QASTCompilerMAST.nqp 文件 当前版本与 211ab0b19f25b8c81685a97540f4b1491eb17504 版本的区别</p>
			<pre class="screen">
git diff 211ab0b19f25b8c81685a97540f4b1491eb17504 -- nqp-cc/src/QASTCompilerMAST.nqp
		</pre>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569430944"></a>20.1.7.1. --name-only 仅显示文件名</h4></div></div></div>
				
				<pre class="screen">
git diff --name-only
			</pre>
			</div>
		</div>
		
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.push"></a>20.1.8. Push</h3></div></div></div>
			
			<pre class="screen">
		
$ git clone git://10.10.0.5/example.git
$ cd example
$ (edit files)
$ git add (files)
$ git commit -m 'Explain what I changed'

$ git push origin master
Counting objects: 5, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 278 bytes, done.
Total 3 (delta 0), reused 0 (delta 0)
To git://10.10.0.5/example.git
   27f8417..b088cc3  master -&gt; master
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.pull"></a>20.1.9. Pull</h3></div></div></div>
			
			<pre class="screen">
$ git pull
remote: Counting objects: 5, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From git://10.10.0.5/example
   27f8417..b088cc3  master     -&gt; origin/master
Updating 27f8417..b088cc3
Fast-forward
 test1 |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)
		</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.fetch"></a>20.1.10. fetch</h3></div></div></div>
			
			<pre class="screen">
$ git fetch
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 2 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (2/2), done.
From git://10.10.0.5/example
   b088cc3..7e8c17d  master     -&gt; origin/master
		</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.patch"></a>20.1.11. Creating a Patch</h3></div></div></div>
			
			<pre class="screen">
		
$ git clone git://github.com/git/hello-world.git
$ cd hello-world
$ (edit files)
$ git add (files)
$ git commit -m 'Explain what I changed'
$ git format-patch origin/master
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="git.reset"></a>20.1.12. reset</h3></div></div></div>
			
			<p>重置到上一个版本</p>
			<pre class="screen">
git log
git reset --hard HEAD^
git log
git push -f
		</pre>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm524569420544"></a>20.1.12.1. 还原文件</h4></div></div></div>
				
				<pre class="screen">
				
$ git checkout &lt;commit&gt; --filename
$ git reset filename				
				
				</pre>
			</div>
		</div>
	</div>

	


	
	
	
	
	

	

	

	


	
	

	
		

	

	


	


	
</div><div xmlns="" id="SOHUCS"></div><script xmlns="" charset="utf-8" type="text/javascript" src="https://cy-cdn.kuaizhan.com/upload/changyan.js"></script><script xmlns="" type="text/javascript">
window.changyan.api.config({
appid: 'cyvwjQUG3',
conf: 'prod_ef966242df3d8b5acb1e0ee9fc01cafe'
});
</script><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="../version.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="../version.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="git.branch.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">部分 III. 软件版本控制 </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 20.2. 分支管理</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script></body></html>