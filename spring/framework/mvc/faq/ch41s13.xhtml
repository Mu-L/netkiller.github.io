<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Could not read document: Invalid UTF-8 middle byte 0xd0</title><link rel="stylesheet" type="text/css" href="../../../docbook.css"/><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"/><meta name="keywords" content="Spring, Spring Boot, Spring Cloud, Spring Eureka, Spring Config"/><link rel="prev" href="ch41s12.xhtml" title="The dependencies of some of the beans in the application context form a cycle"/><link rel="next" href="ch41s14.xhtml" title="Field javaMailSender in cn.netkiller.rest.EmailRestController required a bean of type 'org.springframework.mail.javamail.JavaMailSender' that could not be found."/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">Could not read document: Invalid UTF-8 middle byte 0xd0</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="ch41s12.xhtml">上一页</a> </td><th style="width: 60%; text-align: center; ">第 41 章 FAQ</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch41s14.xhtml">下一页</a></td></tr></table><hr/></div></header><section class="section" id="Could not read document: Invalid UTF-8 middle byte 0xd0"><div class="titlepage"><div><div><h3 class="title">Could not read document: Invalid UTF-8 middle byte 0xd0</h3></div></div></div><p>Spring 默认不支持 UTF-8</p><pre class="screen">
		
2016-08-17 16:04:53.148 WARN 7700 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to read HTTP message:	org.springframework.http.converter.HttpMessageNotReadableException:Could not read document: Invalid UTF-8 middle byte 0xd0 at [Source: java.io.PushbackInputStream@33aa54cc; line: 1, column: 38](through reference chain: api.domain.oracle.Withdraw["bankname"]); nested exception is 	com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0xd0 at [Source: java.io.PushbackInputStream@33aa54cc; line: 1, column: 38]
			(through reference chain: api.domain.oracle.Withdraw["bankname"])
		
		</pre><p>解决方案 application.properties 配置文件中加入如下配置：</p><pre class="screen">
			spring.messages.encoding=UTF-8
			server.tomcat.uri-encoding=UTF-8
			spring.http.encoding.charset=UTF-8
			spring.http.encoding.enabled=true
			spring.http.encoding.force=true
		</pre></section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="ch41s12.xhtml">上一页</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="ch41.xhtml">上一级</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch41s14.xhtml">下一页</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">The dependencies of some of the beans in the application
			context form a cycle </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="../../../index.xhtml">起始页</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> Field javaMailSender in cn.netkiller.rest.EmailRestController
			required a bean of type
			'org.springframework.mail.javamail.JavaMailSender' that could not be
			found.
		</td></tr></table></div></footer></body></html>