<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>第 52 章 Spring Data with MySQL</title><link rel="stylesheet" type="text/css" href="../../docbook.css"/><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"/><meta name="keywords" content="Spring, Spring Boot, Spring Cloud, Spring Eureka, Spring Config"/><link rel="prev" href="../JdbcTemplate/ch51s11.xhtml" title="实例参考"/><link rel="next" href="ch52s02.xhtml" title="声明实体"/></head><body><header><div class="navheader"><table style="width: 100%; "><tr><th style="text-align: center; " colspan="3">第 52 章 Spring Data with MySQL</th></tr><tr><td style="width: 20%; text-align: left; "><a accesskey="p" href="../JdbcTemplate/ch51s11.xhtml">上一页</a> </td><th style="width: 60%; text-align: center; ">部分 III. Spring Data</th><td style="width: 20%; text-align: right; "> <a accesskey="n" href="ch52s02.xhtml">下一页</a></td></tr></table><hr/></div></header><section class="chapter" id="index"><div class="titlepage"><div><div><h2 class="title">第 52 章 Spring Data with MySQL</h2></div></div></div><div class="toc"><div class="toc-title">目录</div><ul class="toc"><li><span class="section"><a href="ch52.xhtml#engine">选择数据库表引擎</a></span></li><li><span class="section"><a href="ch52s02.xhtml">声明实体</a></span><ul><li><span class="section"><a href="ch52s02.xhtml#id1107">@Entity 声明实体</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Table">@Table 定义表名</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Id">@Id 定义主键</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Column">@Column 定义字段：</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Transient">非数据库字段</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Lob">@Lob 注解属性将被持久化为 Blog 或 Clob 类型</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@NotNull">@NotNull 不能为空声明</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Temporal">@Temporal 日期定义</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@CreateDate">创建日期</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@DateTimeFormat">@DateTimeFormat 处理日期时间格式</a></span></li><li><span class="section"><a href="ch52s02.xhtml#enum">Enum 枚举数据类型</a></span></li><li><span class="section"><a href="ch52s02.xhtml#set">SET 数据结构</a></span></li><li><span class="section"><a href="ch52s02.xhtml#json">JSON 数据类型</a></span></li><li><span class="section"><a href="ch52s02.xhtml#index">索引</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Embeddable">嵌入</a></span></li><li><span class="section"><a href="ch52s02.xhtml#ForeignKey">外键</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@ElementCollection">映射集合属性</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@JsonIgnore">@JsonIgnore</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@EnableJpaAuditing">@EnableJpaAuditing 开启 JPA 审计功能</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Comment">注释 @Comment</a></span></li><li><span class="section"><a href="ch52s02.xhtml#@Pattern">@Pattern 数据匹配</a></span></li><li><span class="section"><a href="ch52s02.xhtml#Inheritance">实体继承</a></span></li></ul></li><li><span class="section"><a href="ch52s03.xhtml">Repository</a></span><ul><li><span class="section"><a href="ch52s03.xhtml#CrudRepository">CrudRepository</a></span></li><li><span class="section"><a href="ch52s03.xhtml#JpaRepository">JpaRepository</a></span></li><li><span class="section"><a href="ch52s03.xhtml#PagingAndSortingRepository">PagingAndSortingRepository</a></span></li><li><span class="section"><a href="ch52s03.xhtml#jpa.find">findByXXX</a></span></li><li><span class="section"><a href="ch52s03.xhtml#jpa.count">count 操作</a></span></li><li><span class="section"><a href="ch52s03.xhtml#jpa.delete">delete 删除操作</a></span></li><li><span class="section"><a href="ch52s03.xhtml#OrderBy">OrderBy</a></span></li><li><span class="section"><a href="ch52s03.xhtml#GreaterThan">GreaterThan</a></span></li><li><span class="section"><a href="ch52s03.xhtml#sort">Sort 排序操作操作</a></span></li><li><span class="section"><a href="ch52s03.xhtml#pageable">Pageable 翻页操作</a></span></li><li><span class="section"><a href="ch52s03.xhtml#@DynamicInsert">@DynamicInsert 与 @DynamicUpdate</a></span></li><li><span class="section"><a href="ch52s03.xhtml#id1138">继承已存在的 Repository</a></span></li></ul></li><li><span class="section"><a href="ch52s04.xhtml">TransactionTemplate</a></span></li><li><span class="section"><a href="ch52s05.xhtml">JPQL @Query</a></span><ul><li><span class="section"><a href="ch52s05.xhtml#@Modifying">@Modifying 更新/删除</a></span></li><li><span class="section"><a href="ch52s05.xhtml#@Transactional">事务 @Transactional</a></span></li><li><span class="section"><a href="ch52s05.xhtml#@Param">参数传递</a></span></li><li><span class="section"><a href="ch52s05.xhtml#Query.nativeQuery">原生 SQL</a></span></li><li><span class="section"><a href="ch52s05.xhtml#id1145">@Query 与 Pageagble</a></span></li><li><span class="section"><a href="ch52s05.xhtml#id1146">返回指定字段</a></span></li><li><span class="section"><a href="ch52s05.xhtml#id1147">返回指定的模型</a></span></li><li><span class="section"><a href="ch52s05.xhtml#Query.Collection">Collection</a></span></li><li><span class="section"><a href="ch52s05.xhtml#nativeQuery">原生SQL查询</a></span></li><li><span class="section"><a href="ch52s05.xhtml#Sort">Sort</a></span></li><li><span class="section"><a href="ch52s05.xhtml#@Lock">锁 @Lock</a></span></li></ul></li></ul></div><section class="section" id="engine"><div class="titlepage"><div><div><h2 class="title" style="clear: both">选择数据库表引擎</h2></div></div></div><p>正常创建表会使用数据库默认引擎，有时数据库默认引擎并不是我们需要的，通过下面配置可以指定表引擎</p><pre class="screen">
			
# Spring boot 1.x.x
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLInnoDBDialect

# Spring boot 2.0.2
spring.jpa.hibernate.use-new-id-generator-mappings=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect
			
		</pre></section></section><footer><div class="navfooter"><hr/><table style="width: 100%; "><tr><td style="width: 40%; text-align: left; "><a accesskey="p" href="../JdbcTemplate/ch51s11.xhtml">上一页</a> </td><td style="width: 20%; text-align: center; "><a accesskey="u" href="../pt03.xhtml">上一级</a></td><td style="width: 40%; text-align: right; "> <a accesskey="n" href="ch52s02.xhtml">下一页</a></td></tr><tr><td style="width: 40%; text-align: left; vertical-align: top; ">实例参考 </td><td style="width: 20%; text-align: center; "><a accesskey="h" href="../../index.xhtml">起始页</a></td><td style="width: 40%; text-align: right; vertical-align: top; "> 声明实体</td></tr></table></div></footer></body></html>