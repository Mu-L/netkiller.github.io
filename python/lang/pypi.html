<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.3. Python Package Index (PyPI)</title><link rel="stylesheet" type="text/css" href="../docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><meta name="keywords" content="php,pear,pecl,phar, python, , " /><link rel="home" href="../index.html" title="Netkiller Python 手札" /><link rel="up" href="introduction.html" title="第 1 章 Python 入门" /><link rel="prev" href="python.install.html" title="1.2. install" /><link rel="next" href="python.module.html" title="1.4. Python 模块" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> |
		<a xmlns="" href="//netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
   	    <a xmlns="" href="https://edu.51cto.com/lecturer/1703915.html">51CTO学院</a> |
	    <a xmlns="" href="https://edu.csdn.net/lecturer/6423">CSDN程序员研修院</a> |
	    <a xmlns="" href="https://github.com/netkiller">Github</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://cloud.tencent.com/developer/column/2078">腾讯云社区</a> |
	    <a xmlns="" href="https://yq.aliyun.com/u/netkiller/">阿里云栖社区</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://www.youtube.com/user/bg7nyt/videos">Youtube</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/about.html">About</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.3. Python Package Index (PyPI)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="python.install.html">上一页</a> </td><th width="60%" align="center">第 1 章 Python 入门</th><td width="20%" align="right"> <a accesskey="n" href="python.module.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td><td></td><td><a href="https://zhuanlan.zhihu.com/netkiller"><img src="/images/logo/zhihu-card-default.svg" height="25" /></a></td><td valign="middle"><a href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> ｜ <a href="https://www.zhihu.com/club/1241768772601950208">多维度架构</a></td><td></td><td></td><td></td><td></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pypi"></a>1.3. Python Package Index (PyPI)</h2></div></div></div>
	
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160240768"></a>1.3.1. 什么是 PyPI</h3></div></div></div>
		
		<p>The Python Package Index (PyPI) is a repository of software for the Python programming language.</p>
		<p>PyPI helps you find and install software developed and shared by the Python community.</p>
		<p>Package authors use PyPI to distribute their software.</p>
		<p>PyPI 是一个 Python 语言软件仓库，开发包的作者通过Python社区共享他们的作品。软件开发者可以在平台上搜索、安装和使用这些共享资源。</p>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160238048"></a>1.3.2. 准备目录</h3></div></div></div>
		
		<p>发布 Python 包到 PyPI（Python Package Index） 的步骤</p>
		<p>下面开始介绍如何将自己的 Python 包发布到Python Package Index。</p>
		<p>准备一个 Python 项目，目录结构如下</p>
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace % mkdir netkiller-project
neo@MacBook-Pro-Neo ~/workspace % cd netkiller-project
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160235248"></a>1.3.3. 创建LICENSE文件</h3></div></div></div>
		
		<p>上传到 Python Package Index 的包必须包含该文件，外国法律是很严的，License 文件是告诉用户该软件包的授权条款。你可以在下面网站找到 License 复制粘贴到 LICENSE文件中。</p>
		<p>
			<a class="ulink" href="//choosealicense.com" target="_top">Choose an open source license</a>
			我使用的是MIT License
		</p>
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % curl -s https://mit-license.org | sed 's/&lt;[^&gt;]*&gt;//g ; /^$/d' &gt; LICENSE		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160233296"></a>1.3.4. 项目描述文件</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % vim README.md
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % cat README.md 
= Netkiller-Project
演示如何上传包到PyPI		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160230624"></a>1.3.5. 库代码</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % mkdir netkiller
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % vim netkiller/__init__.py
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % cat netkiller/__init__.py 
name = "netkiller"
__version__ = "0.0.1"
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160229104"></a>1.3.6. setuptools 构建脚本</h3></div></div></div>
		
		<p>setup.py 文件是 setuptools 打包工具的构建脚本，主要用来描述项目名称，版本，作者邮箱，项目描述信息，网址，运行环境，依赖哪些库，支持哪些操作系统，等等。</p>
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % vim setup.py
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % cat setup.py 
import setuptools

with open("README.md", "r") as fh:
  long_description = fh.read()

setuptools.setup(
  name="netkiller-project",
  version="0.0.1",
  author="Neo Chen",
  author_email="netkiller@msn.com",
  description="Netkiller Python Package",
  long_description=long_description,
  long_description_content_type="text/markdown",
  url="https://github.com/netkiller/netkiller.netkiller.io",
  packages=setuptools.find_packages(),
  classifiers=[
  "Programming Language :: Python :: 3",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  ],
)		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160227264"></a>1.3.7. 构建包</h3></div></div></div>
		
		<p>使用命令 python3 setup.py sdist bdist_wheel 打包</p>
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % python3 setup.py sdist bdist_wheel
running sdist
running egg_info
creating netkiller_project.egg-info
writing netkiller_project.egg-info/PKG-INFO
writing dependency_links to netkiller_project.egg-info/dependency_links.txt
writing top-level names to netkiller_project.egg-info/top_level.txt
writing manifest file 'netkiller_project.egg-info/SOURCES.txt'
reading manifest file 'netkiller_project.egg-info/SOURCES.txt'
writing manifest file 'netkiller_project.egg-info/SOURCES.txt'
running check
creating netkiller-project-0.0.1
creating netkiller-project-0.0.1/netkiller_project.egg-info
copying files to netkiller-project-0.0.1...
copying README.md -&gt; netkiller-project-0.0.1
copying setup.py -&gt; netkiller-project-0.0.1
copying netkiller_project.egg-info/PKG-INFO -&gt; netkiller-project-0.0.1/netkiller_project.egg-info
copying netkiller_project.egg-info/SOURCES.txt -&gt; netkiller-project-0.0.1/netkiller_project.egg-info
copying netkiller_project.egg-info/dependency_links.txt -&gt; netkiller-project-0.0.1/netkiller_project.egg-info
copying netkiller_project.egg-info/top_level.txt -&gt; netkiller-project-0.0.1/netkiller_project.egg-info
Writing netkiller-project-0.0.1/setup.cfg
creating dist
Creating tar archive
removing 'netkiller-project-0.0.1' (and everything under it)
running bdist_wheel
running build
installing to build/bdist.macosx-11-x86_64/wheel
running install
running install_egg_info
Copying netkiller_project.egg-info to build/bdist.macosx-11-x86_64/wheel/netkiller_project-0.0.1-py3.9.egg-info
running install_scripts
adding license file "LICENSE" (matched pattern "LICEN[CS]E*")
creating build/bdist.macosx-11-x86_64/wheel/netkiller_project-0.0.1.dist-info/WHEEL
creating 'dist/netkiller_project-0.0.1-py3-none-any.whl' and adding 'build/bdist.macosx-11-x86_64/wheel' to it
adding 'netkiller_project-0.0.1.dist-info/LICENSE'
adding 'netkiller_project-0.0.1.dist-info/METADATA'
adding 'netkiller_project-0.0.1.dist-info/WHEEL'
adding 'netkiller_project-0.0.1.dist-info/top_level.txt'
adding 'netkiller_project-0.0.1.dist-info/RECORD'
removing build/bdist.macosx-11-x86_64/wheel		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160224832"></a>1.3.8. 查看包</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % ls dist 
netkiller-project-0.0.1.tar.gz           netkiller_project-0.0.1-py3-none-any.whl
		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160223440"></a>1.3.9. 上传包</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % twine upload dist/*
Uploading distributions to https://upload.pypi.org/legacy/
Enter your username: netkiller
Enter your password: 
Uploading netkiller_project-0.0.1-py3-none-any.whl
100%|██████████████████████████████████████████████████████████| 5.81k/5.81k [00:02&lt;00:00, 2.28kB/s]
Uploading netkiller-project-0.0.1.tar.gz
100%|██████████████████████████████████████████████████████████| 4.24k/4.24k [00:01&lt;00:00, 3.54kB/s]

View at:
https://pypi.org/project/netkiller-project/0.0.1/		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160221328"></a>1.3.10. 安装包</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % pip3 install netkiller-project
Collecting netkiller-project
  Downloading netkiller_project-0.0.1-py3-none-any.whl (2.8 kB)
Installing collected packages: netkiller-project
Successfully installed netkiller-project-0.0.1		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160219888"></a>1.3.11. 使用包</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/tmp % cat test.py 
import netkiller
print(netkiller.name)		
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160218656"></a>1.3.12. 卸载包</h3></div></div></div>
		
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/workspace/netkiller-project % pip3 uninstall netkiller-project
Found existing installation: netkiller-project 0.0.3
Uninstalling netkiller-project-0.0.3:
  Would remove:
    /usr/local/lib/python3.9/site-packages/netkiller/*
    /usr/local/lib/python3.9/site-packages/netkiller_project-0.0.3.dist-info/*
Proceed (y/n)? y
  Successfully uninstalled netkiller-project-0.0.3	
		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160216912"></a>1.3.13. Built distribution</h3></div></div></div>
		
		<pre class="screen">
		
Format	Description	Notes
gztar	gzipped tar file (.tar.gz)	Unix 默认
bztar	bzipped tar file (.tar.bz2)	
xztar	xzipped tar file (.tar.xz)	
ztar	compressed tar file (.tar.Z)	
tar	tar file (.tar)	
zip	zip file (.zip)	Windows 默认
rpm	RPM	
pkgtool	Solaris pkgtool	
sdux	HP-UX swinstall	
wininst	self-extracting ZIP file for Windows	
msi	Microsoft Installer.


$ python setup.py bdist --formats=rpm

setuptools 提供了如下简化命令：

Command	Formats	Notes
bdist_dumb	tar, gztar, bztar, xztar, ztar, zip	Windows 默认 zip, Unix 默认 gztar
bdist_rpm	rpm, srpm	
bdist_wininst	wininst	
bdist_msi	msi	

打 rpm 包可以使用：

$ python setup.py bdist_rpm

		
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160214880"></a>1.3.14. 免密登录</h3></div></div></div>
		
		<p>创建 ~/.pypirc 文件</p>
		<pre class="screen">
		
neo@MacBook-Pro-Neo ~/git/kindle % cat ~/.pypirc
[pypi]
username:netkiller
password:******		
		
		</pre>
		<p>****** 改为你的密码</p>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm344160212768"></a>1.3.15. 其他 Python 包管理工具</h3></div></div></div>
		
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="distutils"></a>1.3.15.1. distutils</h4></div></div></div>
			
			<p>http://docs.python.org/3/install/index.html</p>
			<p>http://docs.python.org/3/distutils/index.html</p>
			<p>创建 setup.py 如下：</p>
			<pre class="screen">
# cat setup.py
from distutils.core import setup

setup (
    name = 'firewall',
    version = '1.0.0',
    py_modules = ['firewall'],
    author = 'neo.chen',
    author_email = 'netkiller@msn.com',
    description = 'Module firewall',
    url='http://netkiller.github.io/',
)
		</pre>
			
			<p>注意：name和py_modules这两个参数一定要与firewall.py文件名相同，否则发布安装时会发出模块文件找不到的错误.</p>
			<pre class="screen">打包操作</pre>
			<pre class="screen">
# python setup.py sdist
running sdist
warning: sdist: missing required meta-data: url
warning: sdist: manifest template 'MANIFEST.in' does not exist (using default file list)
warning: sdist: standard file not found: should have one of README, README.txt
writing manifest file 'MANIFEST'
creating firewall-1.0.0
making hard links in firewall-1.0.0...
hard linking firewall.py -&gt; firewall-1.0.0
hard linking setup.py -&gt; firewall-1.0.0
creating dist
tar -cf dist/firewall-1.0.0.tar firewall-1.0.0
gzip -f9 dist/firewall-1.0.0.tar
tar -cf dist/firewall-1.0.0.tar firewall-1.0.0
gzip -f9 dist/firewall-1.0.0.tar
removing 'firewall-1.0.0' (and everything under it)
		</pre>
			<p>sdist 生成的文件</p>
			<pre class="screen">
# ll dist/
total 4
-rw-r--r--. 1 root root 2123 Aug  9 12:41 firewall-1.0.0.tar.gz
		</pre>
			<p>安装包</p>
			<pre class="screen">
# python setup.py install
running install
running build
running build_py
creating build
creating build/lib
copying firewall.py -&gt; build/lib
running install_lib
copying build/lib/firewall.py -&gt; /usr/lib/python2.6/site-packages
byte-compiling /usr/lib/python2.6/site-packages/firewall.py to firewall.pyc
running install_egg_info
Writing /usr/lib/python2.6/site-packages/firewall-1.0.0-py2.6.egg-info
		</pre>
			<p>安装后</p>
			<pre class="screen">
# ll /usr/lib/python2.6/site-packages/firewall*
-rw-r--r--. 1 root root   201 Aug  9 12:42 /usr/lib/python2.6/site-packages/firewall-1.0.0-py2.6.egg-info
-rw-r--r--. 1 root root  6145 Aug  9 11:28 /usr/lib/python2.6/site-packages/firewall.py
-rw-r--r--. 1 root root 11858 Aug  9 12:42 /usr/lib/python2.6/site-packages/firewall.pyc
		</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="distribute"></a>1.3.15.2. distribute</h4></div></div></div>
			
			<p>distribute_setup 是 setuptools 的替代品</p>
			<pre class="screen">
$ wget http://python-distribute.org/distribute_setup.py
$ sudo python distribute_setup.py
		</pre>
			<p>或者</p>
			<pre class="screen">
curl -sS http://python-distribute.org/distribute_setup.py | python
		</pre>
		</div>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="pip"></a>1.3.16. pip - A tool for installing and managing Python packages</h3></div></div></div>
		
		<p>https://pip.readthedocs.io/en/stable/installing/</p>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160198528"></a>1.3.16.1. 安装 pip</h4></div></div></div>
			
			<p>自从Python 3.4版本开始，pip已经被内置在Python中，所以无需再次安装。如果你的系统中没有pip/pip3命令，或者不小心卸载了，可以使用下面方式安装。</p>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160197040"></a>1.3.16.1.1. 使用 easy_install 安装 pip</h5></div></div></div>
				
				<p>使用easy_install安装pip， 同时pip也是easy_install替代品</p>
				<pre class="screen">
			
# easy_install pip
			
				</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160195232"></a>1.3.16.1.2. Ubuntu 安装 pip</h5></div></div></div>
				
				<pre class="screen">
			
$ sudo apt install python3-pip
			
				</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160193952"></a>1.3.16.1.3. Mac</h5></div></div></div>
				
				<pre class="screen">
			
neo@MacBook-Pro ~ % brew install python3
neo@MacBook-Pro ~ % pip3 install scrapy
			
				</pre>
				<p>安装 python3 会携带 pip3 命令</p>
			</div>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160192288"></a>1.3.16.2. 查看版本</h4></div></div></div>
			
			<pre class="screen">
		
neo@MacBook-Pro-Neo ~ % pip --version
pip 21.1 from /usr/local/lib/python3.9/site-packages/pip (python 3.9)

neo@MacBook-Pro-Neo ~ % pip3 --version
pip 21.1 from /usr/local/lib/python3.9/site-packages/pip (python 3.9)			
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160190720"></a>1.3.16.3. 升级 pip 命令</h4></div></div></div>
			
			<pre class="screen">
		
neo@MacBook-Pro-Neo ~ % pip install --upgrade pip
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160189424"></a>1.3.16.4. 查询包</h4></div></div></div>
			
			<p>查询包</p>
			<pre class="screen">
		
$ pip search "Markdown"
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160187712"></a>1.3.16.5. 安装包</h4></div></div></div>
			
			<p>安装包</p>
			<pre class="screen">
			
$ pip install Markdown
			
			</pre>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160186064"></a>1.3.16.5.1. 指定版本号</h5></div></div></div>
				

				<p>安装特定版本的包，
					通过使用  ==, &gt;=, &lt;=, &gt;, &lt; 来指定一个版本号。
				</p>
				<p>比如说我要安装3.4.1版本的matplotlib</p>
				<pre class="screen">
			
pip install matplotlib==3.4.1			
			
				</pre>

				<pre class="screen">
			
$ pip install 'Markdown&lt;2.0'
$ pip install 'Markdown&gt;2.0,&lt;2.0.3'
			
				</pre>
				<p>用户级包管理，默认root是全局安装</p>
				<pre class="screen">
			
pip3 install --user netkiller-firewall			
			
				</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160182416"></a>1.3.16.5.2. 安装 wheel文件</h5></div></div></div>
				
				<pre class="screen">
			
pip install dist/netkiller_firewall-0.0.1-py3-none-any.whl			
			
				</pre>
				<p>操作演示</p>
				<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % cd workspace/firewall 
neo@MacBook-Pro-Neo ~/workspace/firewall % ls dist 
netkiller-firewall-0.0.1.tar.gz           netkiller_firewall-0.0.1-py3.9.egg
netkiller_firewall-0.0.1-py3-none-any.whl
neo@MacBook-Pro-Neo ~/workspace/firewall % pip install dist/netkiller_firewall-0.0.1-py3-none-any.whl
Processing ./dist/netkiller_firewall-0.0.1-py3-none-any.whl
Installing collected packages: netkiller-firewall
Successfully installed netkiller-firewall-0.0.1			
			
				</pre>

			</div>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160179600"></a>1.3.16.6. 卸载包</h4></div></div></div>
			
			<p>卸载包</p>
			<pre class="screen">
			
$ pip uninstall Markdown
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160178064"></a>1.3.16.7. 升级包</h4></div></div></div>
			
			<p>升级包到当前最新的版本，可以使用-U 或者 --upgrade</p>
			<pre class="screen">
			
# pip install distribute --upgrade
$ pip install -U Markdown
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160176208"></a>1.3.16.8. 显示包详细信息</h4></div></div></div>
			
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip show netkiller-logging
Name: netkiller-logging
Version: 0.0.5
Summary: log send to remote
Home-page: http://netkiller.github.io
Author: None
Author-email: netkiller@msn.com
License: BSD
Location: /usr/local/lib/python3.9/site-packages
Requires: 
Required-by: 			
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160174720"></a>1.3.16.9. 列出已经安装的包</h4></div></div></div>
			
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip list                  
Package                                           Version
------------------------------------------------- ---------
autopep8                                          1.5.6
bleach                                            3.3.0
certifi                                           2020.12.5
chardet                                           4.0.0
click                                             7.1.2
colorama                                          0.4.4
cv                                                1.0.0
cycler                                            0.10.0
decorator                                         4.4.2
dlib                                              19.22.0
docutils                                          0.17			
			
			</pre>
			<p>查看需要升级的包</p>
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip list -o
			
			</pre>
			<p>目前已经安装的库中，看哪些需要版本升级</p>
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip list -o
Package                                           Version   Latest   Type
------------------------------------------------- --------- -------- -----
autopep8                                          1.5.6     1.5.7    wheel
decorator                                         4.4.2     5.0.7    wheel
docutils                                          0.17      0.17.1   wheel
easyocr                                           1.3.0.1   1.3.1    wheel
et-xmlfile                                        1.0.1     1.1.0    wheel
idna                                              2.10      3.1      wheel
importlib-metadata                                3.10.0    4.0.1    wheel
Pygments                                          2.8.1     2.9.0    wheel
pyobjc                                            7.1       7.2      wheel			
			
			</pre>
		</div>

		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160170048"></a>1.3.16.10. 批量安装库</h4></div></div></div>
			
			<p>如果一个项目需要安装很多库，可以将他们放入一个文件 requirements.txt，例如那可以批量安装：</p>
			<pre class="screen">
			
pip install -r requirements.txt
			
			</pre>
			<p>requirements.txt 文件内容格式如下：</p>
			<pre class="screen">
			
netkiller-logging==0.0.4
netkiller-firewall			
			
			</pre>
			<p>操作演示</p>
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % vim requirements.txt     

neo@MacBook-Pro-Neo ~ % cat requirements.txt 
netkiller-logging
netkiller-firewall
                               
neo@MacBook-Pro-Neo ~ % pip install -r requirements.txt 
Collecting netkiller-logging
  Downloading netkiller_logging-0.0.5-py3-none-any.whl (14 kB)
Collecting netkiller-firewall
  Downloading netkiller_firewall-0.0.1-py3-none-any.whl (5.4 kB)
Installing collected packages: netkiller-logging, netkiller-firewall			
			
			</pre>
			<div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="idm344160166000"></a>1.3.16.10.1. 导出已安装的包</h5></div></div></div>
				
				<p>列出安装包的描述信息</p>
				<pre class="screen">
				
$ pip freeze
				
				</pre>
				<p>操作演示</p>
				<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip freeze
autopep8==1.5.6
bleach==3.3.0
certifi==2020.12.5
chardet==4.0.0
click==7.1.2
colorama==0.4.4
cv==1.0.0
cycler==0.10.0
decorator==4.4.2
dlib==19.22.0
docutils==0.17
easyocr==1.3.0.1
et-xmlfile==1.0.1
face-recognition==1.3.0
face-recognition-models==0.3.0
idna==2.10
imageio==2.9.0
imageio-ffmpeg==0.4.3
importlib-metadata==3.10.0
keyboard==0.13.5
keyring==23.0.1
kiwisolver==1.3.1
lxml==4.6.3
matplotlib==3.4.1
moviepy==1.0.3
netkiller-devops==0.0.1
netkiller-kindle==0.0.3
networkx==2.5.1
numpy==1.20.2
opencv-python==4.5.1.48
openpyxl==3.0.7
packaging==20.9
pandas==1.2.4
Pillow==8.2.0
pkginfo==1.7.0
proglog==0.1.9
progress==1.5
PyAudio==0.2.11
pycodestyle==2.7.0
Pygments==2.8.1
pyobjc==7.1
python-dateutil==2.8.1
python-docx==0.8.10
pytz==2021.1
PyWavelets==1.1.1
PyYAML==5.4.1
readme-renderer==29.0
requests==2.25.1
requests-toolbelt==0.9.1
rfc3986==1.4.0
scikit-image==0.18.1
scipy==1.6.2
six==1.15.0
SpeechRecognition==3.8.1
tabulate==0.8.9
tifffile==2021.3.31
toml==0.10.2
torch==1.8.1
torchvision==0.9.1
tqdm==4.59.0
twine==3.4.1
typing-extensions==3.7.4.3
urllib3==1.26.4
webencodings==0.5.1
xlrd==2.0.1
zipp==3.4.1			
			
				</pre>
				<p>导出已经安装的包列表，并保存到到本地文件中：</p>
				<pre class="screen">
				
pip freeze &gt; requirements.txt			
				
				</pre>

			</div>
		</div>

		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160162528"></a>1.3.16.11. 兼容性检查</h4></div></div></div>
			
			<p>验证已安装的包是否有兼容依赖问题</p>
			<pre class="screen">
			
pip check package-name
			
			</pre>
			<p>操作演示</p>
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip check netkiller-firewall
No broken requirements found.
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160159936"></a>1.3.16.12. 从 PyPI 下载 whl 文件到本地硬盘</h4></div></div></div>
			
			<p>将库下载到本地指定目录</p>
			<pre class="screen">
			
pip download package_name -d "要保存的文件路径"			
			
			</pre>
			<p>操作演示</p>
			<pre class="screen">
			
neo@MacBook-Pro-Neo ~ % pip download netkiller-logging -d /tmp/netkiller-logging    
Collecting netkiller-logging
  Using cached netkiller_logging-0.0.5-py3-none-any.whl (14 kB)
Saved /private/tmp/netkiller-logging/netkiller_logging-0.0.5-py3-none-any.whl
Successfully downloaded netkiller-logging

neo@MacBook-Pro-Neo ~ % ls /tmp/netkiller-logging                               
netkiller_logging-0.0.5-py3-none-any.whl
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idm344160159808"></a>1.3.16.13. 切换 pip 镜像</h4></div></div></div>
			
			<p>由于 pip 源服务器放在外国，所以我们安装包的时候速度非常慢。</p>
			<p>国内一些企业和组织做了 pip 镜像，他们每个一定时间从外国服务器同步一次数据到国内服务器，我们将 pip 切换到国内服务器后，再下载包就不会去外国服务器，所以下载速度大大提高。</p>
			<p>临时下载一个包</p>
			<pre class="screen">
			
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple  matplotlib		
			
			</pre>
			<p>永久性切换</p>
			<pre class="screen">
			
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
			
			</pre>
			<p>设为默认后，以后安装库都将从清华镜像源下载</p>
			<p>下面是国内常用镜像服务器地址：</p>
			<p>
				清华镜像
				<a class="ulink" href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_top">https://pypi.tuna.tsinghua.edu.cn/simple</a>
			</p>
			<p>
				阿里云镜像
				<a class="ulink" href="https://mirrors.aliyun.com/pypi/simple/" target="_top">https://mirrors.aliyun.com/pypi/simple/</a>
			</p>
			<p>
				中科大镜像
				<a class="ulink" href="https://mirrors.bfsu.edu.cn/pypi/web/simple/" target="_top">https://mirrors.bfsu.edu.cn/pypi/web/simple/</a>
			</p>
			<p>
				豆瓣镜像
				<a class="ulink" href="http://pypi.doubanio.com/simple/" target="_top">http://pypi.doubanio.com/simple/</a>
			</p>
		</div>

	</div>
</div><div xmlns="" id="SOHUCS"></div><script xmlns="" charset="utf-8" type="text/javascript" src="https://cy-cdn.kuaizhan.com/upload/changyan.js"></script><script xmlns="" type="text/javascript">
window.changyan.api.config({
appid: 'cyvwjQUG3',
conf: 'prod_ef966242df3d8b5acb1e0ee9fc01cafe'
});
</script><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="python.install.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="introduction.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="python.module.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">1.2. install </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 1.4. Python 模块</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script></body></html>