<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>23.7. plugins</title><link rel="stylesheet" type="text/css" href="../docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="../index.html" title="Netkiller Java 手札（版）" /><link rel="up" href="maven.html" title="第 23 章 Apache Maven" /><link rel="prev" href="maven.dependencies.html" title="23.6. 依赖管理" /><link rel="next" href="ch23s08.html" title="23.8. 应用案例" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> | <a xmlns="" href="//netkiller.github.io/">简体中文</a> | <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> | <a xmlns="" href="/journal/index.html">杂文</a>
		| <a xmlns="" href="https://github.com/netkiller">Github</a> | <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> | <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> | <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> | <a xmlns="" href="https://www.youtube.com/user/bg7nyt/videos">Youtube</a> | <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> | <a xmlns="" href="//www.netkiller.cn/home/about.html">About</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">23.7. plugins</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="maven.dependencies.html">上一页</a> </td><th width="60%" align="center">第 23 章 Apache Maven</th><td width="20%" align="right"> <a accesskey="n" href="ch23s08.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td><td></td><td><a href="https://zhuanlan.zhihu.com/netkiller"><img src="/images/logo/zhihu-card-default.svg" height="25" /></a></td><td valign="middle"><a href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a></td><td></td><td></td><td></td><td></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="maven.plugins"></a>23.7. plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-compiler-plugin"></a>23.7.1. maven-compiler-plugin</h3></div></div></div><p>配置默认的jdk版本</p><pre class="screen">
			
	&lt;properties&gt;
      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
      &lt;maven.compiler.compilerVersion&gt;1.7&lt;/maven.compiler.compilerVersion&gt;
    &lt;/properties&gt;			
			
			</pre><p>在插件中配置</p><pre class="screen">
			
			&lt;plugin&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.8.0&lt;/version&gt;
				&lt;configuration&gt;
					&lt;source&gt;1.8&lt;/source&gt;
					&lt;target&gt;1.8&lt;/target&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;			
			
			</pre><p>禁止编译警告 -Xlint:unchecked，-Xlint:deprecation</p><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.1&lt;/version&gt;
				&lt;configuration&gt;
					&lt;source&gt;1.8&lt;/source&gt;
					&lt;target&gt;1.8&lt;/target&gt;
					&lt;encoding&gt;UTF-8&lt;/encoding&gt;
					&lt;compilerArgs&gt;
						&lt;arg&gt;-verbose&lt;/arg&gt;
						&lt;arg&gt;-Xlint:unchecked&lt;/arg&gt;
						&lt;arg&gt;-Xlint:deprecation&lt;/arg&gt;
					&lt;/compilerArgs&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			</pre><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.1&lt;/version&gt;
				&lt;configuration&gt;
					&lt;source&gt;1.8&lt;/source&gt;
					&lt;target&gt;1.8&lt;/target&gt;
					&lt;encoding&gt;UTF-8&lt;/encoding&gt;
					&lt;compilerArgs&gt;
						&lt;arg&gt;-verbose&lt;/arg&gt;
						&lt;arg&gt;-Xlint:unchecked&lt;/arg&gt;
						&lt;arg&gt;-Xlint:deprecation&lt;/arg&gt;
						&lt;arg&gt;-bootclasspath&lt;/arg&gt;
						&lt;arg&gt;${env.JAVA_HOME}/jre/lib/rt.jar&lt;/arg&gt;
						&lt;arg&gt;-extdirs&lt;/arg&gt;
						&lt;arg&gt;${project.basedir}/libs&lt;/arg&gt;
					&lt;/compilerArgs&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			</pre><p>compilerArgs可以实现编译参数的传递</p><pre class="screen">
			
&lt;plugin&gt;                                                                                                                                      
                                                                         
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;                                                                                               
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;                                                                                            
    &lt;version&gt;3.1&lt;/version&gt;                                                                                                                    
    &lt;configuration&gt;
	    &lt;!-- 指定maven编译的jdk版本 --&gt;      
        &lt;!-- 一般而言，target与source是保持一致的，但是，有时候为了让程序能在其他版本的jdk中运行(对于低版本目标jdk，源代码中不能使用低版本jdk中不支持的语法)，会存在target不同于source的情况 --&gt;                    
        &lt;source&gt;1.8&lt;/source&gt; &lt;!-- 源代码使用的JDK版本 --&gt;                                                                                             
        &lt;target&gt;1.8&lt;/target&gt; &lt;!-- 需要生成的目标class文件的编译版本 --&gt;                                                                                     
        &lt;encoding&gt;UTF-8&lt;/encoding&gt;&lt;!-- 字符集编码 --&gt;
        &lt;skipTests&gt;true&lt;/skipTests&gt;&lt;!-- 跳过测试 --&gt;                                                                             
        &lt;verbose&gt;true&lt;/verbose&gt;
        &lt;showWarnings&gt;true&lt;/showWarnings&gt;                                                                                                               
        &lt;fork&gt;true&lt;/fork&gt;&lt;!-- 要使compilerVersion标签生效，还需要将fork设为true，用于明确表示编译版本配置的可用 --&gt;                                                        
        &lt;executable&gt;&lt;!-- path-to-javac --&gt;&lt;/executable&gt;&lt;!-- 使用指定的javac命令，例如：&lt;executable&gt;${JAVA_1_4_HOME}/bin/javac&lt;/executable&gt; --&gt;           
        &lt;compilerVersion&gt;1.3&lt;/compilerVersion&gt;&lt;!-- 指定插件将使用的编译器的版本 --&gt;                                                                         
        &lt;meminitial&gt;128m&lt;/meminitial&gt;&lt;!-- 编译器使用的初始内存 --&gt;                                                                                      
        &lt;maxmem&gt;512m&lt;/maxmem&gt;&lt;!-- 编译器使用的最大内存 --&gt;                                                                                              
        &lt;compilerArgument&gt;-verbose -bootclasspath ${java.home}\lib\rt.jar&lt;/compilerArgument&gt;&lt;!-- 这个选项用来传递编译器自身不包含但是却支持的参数选项 --&gt;               
    &lt;/configuration&gt;                                                                                                                          
&lt;/plugin&gt;   			
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-war-plugin"></a>23.7.2. maven-war-plugin</h3></div></div></div><p>设置 war 文件名 warName</p><pre class="screen">
			
&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.3&lt;/version&gt;
        &lt;configuration&gt;
          &lt;warName&gt;bird.war&lt;/warName&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  ...
&lt;/project&gt;			
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-antrun-plugin"></a>23.7.3. maven-antrun-plugin</h3></div></div></div><p>查看可用的pom定义</p><pre class="screen">
			
&lt;project&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;artifactId&gt;my-test-app&lt;/artifactId&gt;
  &lt;groupId&gt;my-test-group&lt;/groupId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

  &lt;build&gt;
    &lt;plugins&gt;

      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.8&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;compile&lt;/id&gt;
            &lt;phase&gt;compile&lt;/phase&gt;
            &lt;configuration&gt;
              &lt;target&gt;
                &lt;property name="compile_classpath" refid="maven.compile.classpath"/&gt;
                &lt;property name="runtime_classpath" refid="maven.runtime.classpath"/&gt;
                &lt;property name="test_classpath" refid="maven.test.classpath"/&gt;
                &lt;property name="plugin_classpath" refid="maven.plugin.classpath"/&gt;

                &lt;echo message="compile classpath: ${compile_classpath}"/&gt;
                &lt;echo message="runtime classpath: ${runtime_classpath}"/&gt;
                &lt;echo message="test classpath:    ${test_classpath}"/&gt;
                &lt;echo message="plugin classpath:  ${plugin_classpath}"/&gt;

                &lt;ant antfile="${basedir}/build.xml"&gt;
                  &lt;target name="test"/&gt;
                &lt;/ant&gt;
              &lt;/target&gt;
            &lt;/configuration&gt;
            &lt;goals&gt;
              &lt;goal&gt;run&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;

The build.xml:

&lt;?xml version="1.0"?&gt;
&lt;project name="test6"&gt;

    &lt;target name="test"&gt;

      &lt;echo message="compile classpath: ${compile_classpath}"/&gt;
      &lt;echo message="runtime classpath: ${runtime_classpath}"/&gt;
      &lt;echo message="test classpath:    ${test_classpath}"/&gt;
      &lt;echo message="plugin classpath:  ${plugin_classpath}"/&gt;

    &lt;/target&gt;

&lt;/project&gt;
			
			</pre><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id941"></a>23.7.3.1. echo 打印调试信息</h4></div></div></div><pre class="screen">
				
	&lt;plugin&gt;
		&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
		&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;
		&lt;version&gt;3.0.0&lt;/version&gt;
		&lt;executions&gt;
			&lt;execution&gt;
                &lt;phase&gt;validate&lt;/phase&gt;
				&lt;goals&gt;
					&lt;goal&gt;run&lt;/goal&gt;
				&lt;/goals&gt;
				&lt;configuration&gt;
					&lt;target&gt;
						&lt;echo&gt;Current branch: ${branch}&lt;/echo&gt;
						&lt;echo&gt;[project.artifactId] ${project.artifactId}&lt;/echo&gt;
					&lt;/target&gt;
				&lt;/configuration&gt;
			&lt;/execution&gt;
		&lt;/executions&gt;
	&lt;/plugin&gt;				
				
				</pre><p></p><pre class="screen">
				
root@netkiller ~/neo (master)# mvn package -Dbranch=master

[WARNING]      [echo] Current branch: master
[WARNING]      [echo] [project.artifactId] neo
				
				</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-install-plugin"></a>23.7.4. maven-install-plugin</h3></div></div></div><pre class="screen">
			
		&lt;plugin&gt;
			&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
			&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
			&lt;version&gt;2.5.2&lt;/version&gt;
			&lt;inherited&gt;false&lt;/inherited&gt;
			&lt;executions&gt;
				&lt;execution&gt;
					&lt;id&gt;install:com.oracle:ojdbc6:11g&lt;/id&gt;
					&lt;phase&gt;validate&lt;/phase&gt;
					&lt;goals&gt;
						&lt;goal&gt;install-file&lt;/goal&gt;
					&lt;/goals&gt;
					&lt;configuration&gt;
						&lt;file&gt;${project.basedir}/lib/ojdbc6.jar&lt;/file&gt;
						&lt;groupId&gt;com.oracle&lt;/groupId&gt;
						&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;
						&lt;version&gt;11.2.0.3&lt;/version&gt;
						&lt;packaging&gt;jar&lt;/packaging&gt;
						&lt;createChecksum&gt;true&lt;/createChecksum&gt;
						&lt;generatePom&gt;true&lt;/generatePom&gt;
					&lt;/configuration&gt;
				&lt;/execution&gt;
			&lt;/executions&gt;
		&lt;/plugin&gt;
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-surefire-plugin"></a>23.7.5. maven-surefire-plugin</h3></div></div></div><pre class="screen">
			
	&lt;plugin&gt;
		&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
		&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
		&lt;version&gt;2.20&lt;/version&gt;
		&lt;configuration&gt;
			&lt;skip&gt;true&lt;/skip&gt;
		&lt;/configuration&gt;
	&lt;/plugin&gt;		
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-deploy-plugin"></a>23.7.6. maven-deploy-plugin</h3></div></div></div><pre class="screen">
			
			&lt;plugin&gt;
		      &lt;!--skip deploy (this is just a test module) --&gt;
		      &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
		      &lt;configuration&gt;
		        &lt;skip&gt;true&lt;/skip&gt;
		      &lt;/configuration&gt;
	        &lt;/plugin&gt;			
			
			</pre><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id942"></a>23.7.6.1. deploy:deploy-file </h4></div></div></div><pre class="screen">
				
mvn deploy:deploy-file 
-Dfile=&lt;path-to-file&gt;
-DgroupId=&lt;group-id&gt; 
-DartifactId=&lt;artifact-id&gt;
-Dversion=&lt;version&gt; 
-Dpackaging=jar 
-Durl=file:./maven-repository/ 
-DrepositoryId=maven-repository 
-DupdateReleaseInfo=true				
				
				</pre><p></p><pre class="screen">
				
mvn deploy:deploy-file \
-DrepositoryId=gitlab-maven \
-Durl=http://registry.netkiller.cn/api/v4/projects/14/packages/maven \ 
-Dpackaging=jar \
-Dfile=lib/cfca.jar \
-DgroupId=cn.netkiller \ 
-DartifactId=api \ 
-Dversion=1.0.0 \
-Dmaven.test.skip=true -s .ci_settings.xml
				
				</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-jar-plugin"></a>23.7.7. maven-jar-plugin</h3></div></div></div><p>指定jar创建目录，下面配置运行 mvn package 后将在 target 目录下创建一个 project 目录。
			</p><pre class="screen">
			
	&lt;plugin&gt;
		&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
		&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
		&lt;version&gt;2.3.1&lt;/version&gt;
		&lt;configuration&gt;
			&lt;outputDirectory&gt;${project.build.directory}/project&lt;/outputDirectory&gt;
		&lt;/configuration&gt;
	&lt;/plugin&gt;
			
			</pre><p>知道 jar 文件的默认 mainClass</p><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
				&lt;version&gt;2.6&lt;/version&gt;
				&lt;configuration&gt;
					&lt;outputDirectory&gt;${project.build.directory}/project/lib&lt;/outputDirectory&gt;
					&lt;archive&gt;
						&lt;manifest&gt;
							&lt;addClasspath&gt;true&lt;/addClasspath&gt;
							&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;
							&lt;mainClass&gt;cn.netkiller.web.App&lt;/mainClass&gt;
						&lt;/manifest&gt;
					&lt;/archive&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="maven-dependency-plugin"></a>23.7.8. maven-dependency-plugin</h3></div></div></div><p>把项目依赖的包复制出来</p><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
				&lt;!-- &lt;version&gt;2.10&lt;/version&gt; --&gt;
				&lt;executions&gt;
					&lt;execution&gt;
						&lt;id&gt;copy-dependencies&lt;/id&gt;
						&lt;phase&gt;package&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;copy-dependencies&lt;/goal&gt;
						&lt;/goals&gt;
						&lt;configuration&gt;
							&lt;!-- 把依赖的所有maven jar包拷贝到lib目录中（这样所有的jar包都在lib目录中） --&gt;
							&lt;outputDirectory&gt;${project.build.directory}/project/lib&lt;/outputDirectory&gt;
							&lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;
							&lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;
							&lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;
						&lt;/configuration&gt;
					&lt;/execution&gt;
				&lt;/executions&gt;
			&lt;/plugin&gt;
			
			</pre><pre class="screen">
			
mvn install dependency:copy-dependencies
mvn install dependency:copy-dependencies -DincludeScope=runtime -DoutputDirectory=target/lib
			
			</pre><pre class="screen">
			
&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt; 
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.2.0&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;copy-dependencies&lt;/id&gt;
                    &lt;phase&gt;prepare-package&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;outputDirectory&gt;${project.build.directory}/classes/lib&lt;/outputDirectory&gt;
                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;			
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="spring-boot-maven-plugin"></a>23.7.9. spring-boot-maven-plugin</h3></div></div></div><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;mainClass&gt;cn.netkiller.Application&lt;/mainClass&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			
			</pre><pre class="screen">
			
MacBook-Pro:api.netkiller.cn neo$ mvn help:describe -DgroupId=org.springframework.boot                   -DartifactId=spring-boot-maven-plugin                   -Ddetail=true
[INFO] Scanning for projects...
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Building api 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-help-plugin:2.2:describe (default-cli) @ api ---
[INFO] org.springframework.boot:spring-boot-maven-plugin:1.5.6.RELEASE

Name: Spring Boot Maven Plugin
Description: Spring Boot Maven Plugin
Group Id: org.springframework.boot
Artifact Id: spring-boot-maven-plugin
Version: 1.5.6.RELEASE
Goal Prefix: spring-boot

This plugin has 6 goals:

spring-boot:build-info
  Description: Generate a build-info.properties file based the content of the
    current MavenProject.
  Implementation: org.springframework.boot.maven.BuildInfoMojo
  Language: java
  Bound to phase: generate-resources

  Available parameters:

    additionalProperties
      Additional properties to store in the build-info.properties. Each entry
      is prefixed by build. in the generated build-info.properties.

    outputFile (Default:
    ${project.build.outputDirectory}/META-INF/build-info.properties)
      The location of the generated build-info.properties.

spring-boot:help
  Description: Display help information on spring-boot-maven-plugin.
    Call mvn spring-boot:help -Ddetail=true -Dgoal=&lt;goal-name&gt; to display
    parameter details.
  Implementation: org.springframework.boot.maven.HelpMojo
  Language: java

  Available parameters:

    detail (Default: false)
      User property: detail
      If true, display all settable properties for each goal.

    goal
      User property: goal
      The name of the goal for which to show help. If unspecified, all goals
      will be displayed.

    indentSize (Default: 2)
      User property: indentSize
      The number of spaces per indentation level, should be positive.

    lineLength (Default: 80)
      User property: lineLength
      The maximum length of a display line, should be positive.

spring-boot:repackage
  Description: Repackages existing JAR and WAR archives so that they can be
    executed from the command line using java -jar. With layout=NONE can also
    be used simply to package a JAR with nested dependencies (and no main
    class, so not executable).
  Implementation: org.springframework.boot.maven.RepackageMojo
  Language: java
  Bound to phase: package

  Available parameters:

    attach (Default: true)
      Attach the repackaged archive to be installed and deployed.

    classifier
      Classifier to add to the artifact generated. If given, the artifact will
      be attached with that classifier and the main artifact will be deployed
      as the main artifact. If this is not given (default), it will replace the
      main artifact and only the repackaged artifact will be deployed.
      Attaching the artifact allows to deploy it alongside to the original one,
      see the maven documentation for more details.

    embeddedLaunchScript
      The embedded launch script to prepend to the front of the jar if it is
      fully executable. If not specified the 'Spring Boot' default script will
      be used.

    embeddedLaunchScriptProperties
      Properties that should be expanded in the embedded launch script.

    excludeArtifactIds
      User property: excludeArtifactIds
      Comma separated list of artifact names to exclude (exact match).

    excludeDevtools (Default: true)
      Exclude Spring Boot devtools from the repackaged archive.

    excludeGroupIds
      User property: excludeGroupIds
      Comma separated list of groupId names to exclude (exact match).

    excludes
      Collection of artifact definitions to exclude. The Exclude element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    executable (Default: false)
      Make a fully executable jar for *nix machines by prepending a launch
      script to the jar.
      Currently, some tools do not accept this format so you may not always be
      able to use this technique. For example, jar -xf may silently fail to
      extract a jar or war that has been made fully-executable. It is
      recommended that you only enable this option if you intend to execute it
      directly, rather than running it with java -jar or deploying it to a
      servlet container.

    finalName (Default: ${project.build.finalName})
      Required: true
      Name of the generated archive.

    includes
      Collection of artifact definitions to include. The Include element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    includeSystemScope (Default: false)
      Include system scoped dependencies.

    layout
      The type of archive (which corresponds to how the dependencies are laid
      out inside it). Possible values are JAR, WAR, ZIP, DIR, NONE. Defaults to
      a guess based on the archive type.

    layoutFactory
      The layout factory that will be used to create the executable archive if
      no explicit layout is set. Alternative layouts implementations can be
      provided by 3rd parties.

    mainClass
      The name of the main class. If not specified the first compiled class
      found that contains a 'main' method will be used.

    outputDirectory (Default: ${project.build.directory})
      Required: true
      Directory containing the generated archive.

    requiresUnpack
      A list of the libraries that must be unpacked from fat jars in order to
      run. Specify each library as a &lt;dependency&gt; with a &lt;groupId&gt; and a
      &lt;artifactId&gt; and they will be unpacked at runtime.

    skip (Default: false)
      User property: skip
      Skip the execution.

spring-boot:run
  Description: Run an executable archive application.
  Implementation: org.springframework.boot.maven.RunMojo
  Language: java
  Bound to phase: validate
  Before this mojo executes, it will call:
    Phase: 'test-compile'

  Available parameters:

    addResources (Default: false)
      User property: run.addResources
      Add maven resources to the classpath directly, this allows live in-place
      editing of resources. Duplicate resources are removed from target/classes
      to prevent them to appear twice if ClassLoader.getResources() is called.
      Please consider adding spring-boot-devtools to your project instead as it
      provides this feature and many more.

    agent
      User property: run.agent
      Path to agent jar. NOTE: the use of agents means that processes will be
      started by forking a new JVM.

    arguments
      User property: run.arguments
      Arguments that should be passed to the application. On command line use
      commas to separate multiple arguments.

    classesDirectory (Default: ${project.build.outputDirectory})
      Required: true
      Directory containing the classes and resource files that should be
      packaged into the archive.

    excludeArtifactIds
      User property: excludeArtifactIds
      Comma separated list of artifact names to exclude (exact match).

    excludeGroupIds
      User property: excludeGroupIds
      Comma separated list of groupId names to exclude (exact match).

    excludes
      Collection of artifact definitions to exclude. The Exclude element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    folders
      Additional folders besides the classes directory that should be added to
      the classpath.

    fork
      User property: fork
      Flag to indicate if the run processes should be forked. fork is
      automatically enabled if an agent, jvmArguments or working directory are
      specified, or if devtools is present.

    includes
      Collection of artifact definitions to include. The Include element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    jvmArguments
      User property: run.jvmArguments
      JVM arguments that should be associated with the forked process used to
      run the application. On command line, make sure to wrap multiple values
      between quotes. NOTE: the use of JVM arguments means that processes will
      be started by forking a new JVM.

    mainClass
      The name of the main class. If not specified the first compiled class
      found that contains a 'main' method will be used.

    noverify
      User property: run.noverify
      Flag to say that the agent requires -noverify.

    profiles
      User property: run.profiles
      The spring profiles to activate. Convenience shortcut of specifying the
      'spring.profiles.active' argument. On command line use commas to separate
      multiple profiles.

    skip (Default: false)
      User property: skip
      Skip the execution.

    useTestClasspath (Default: false)
      User property: useTestClasspath
      Flag to include the test classpath when running.

    workingDirectory
      User property: run.workingDirectory
      Current working directory to use for the application. If not specified,
      basedir will be used. NOTE: the use of working directory means that
      processes will be started by forking a new JVM.

spring-boot:start
  Description: Start a spring application. Contrary to the run goal, this
    does not block and allows other goal to operate on the application. This
    goal is typically used in integration test scenario where the application
    is started before a test suite and stopped after.
  Implementation: org.springframework.boot.maven.StartMojo
  Language: java
  Bound to phase: pre-integration-test

  Available parameters:

    addResources (Default: false)
      User property: run.addResources
      Add maven resources to the classpath directly, this allows live in-place
      editing of resources. Duplicate resources are removed from target/classes
      to prevent them to appear twice if ClassLoader.getResources() is called.
      Please consider adding spring-boot-devtools to your project instead as it
      provides this feature and many more.

    agent
      User property: run.agent
      Path to agent jar. NOTE: the use of agents means that processes will be
      started by forking a new JVM.

    arguments
      User property: run.arguments
      Arguments that should be passed to the application. On command line use
      commas to separate multiple arguments.

    classesDirectory (Default: ${project.build.outputDirectory})
      Required: true
      Directory containing the classes and resource files that should be
      packaged into the archive.

    excludeArtifactIds
      User property: excludeArtifactIds
      Comma separated list of artifact names to exclude (exact match).

    excludeGroupIds
      User property: excludeGroupIds
      Comma separated list of groupId names to exclude (exact match).

    excludes
      Collection of artifact definitions to exclude. The Exclude element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    folders
      Additional folders besides the classes directory that should be added to
      the classpath.

    fork
      User property: fork
      Flag to indicate if the run processes should be forked. fork is
      automatically enabled if an agent, jvmArguments or working directory are
      specified, or if devtools is present.

    includes
      Collection of artifact definitions to include. The Include element
      defines a groupId and artifactId mandatory properties and an optional
      classifier property.

    jmxName
      The JMX name of the automatically deployed MBean managing the lifecycle
      of the spring application.

    jmxPort
      The port to use to expose the platform MBeanServer if the application
      needs to be forked.

    jvmArguments
      User property: run.jvmArguments
      JVM arguments that should be associated with the forked process used to
      run the application. On command line, make sure to wrap multiple values
      between quotes. NOTE: the use of JVM arguments means that processes will
      be started by forking a new JVM.

    mainClass
      The name of the main class. If not specified the first compiled class
      found that contains a 'main' method will be used.

    maxAttempts
      The maximum number of attempts to check if the spring application is
      ready. Combined with the 'wait' argument, this gives a global timeout
      value (30 sec by default)

    noverify
      User property: run.noverify
      Flag to say that the agent requires -noverify.

    profiles
      User property: run.profiles
      The spring profiles to activate. Convenience shortcut of specifying the
      'spring.profiles.active' argument. On command line use commas to separate
      multiple profiles.

    skip (Default: false)
      User property: skip
      Skip the execution.

    useTestClasspath (Default: false)
      User property: useTestClasspath
      Flag to include the test classpath when running.

    wait
      The number of milli-seconds to wait between each attempt to check if the
      spring application is ready.

    workingDirectory
      User property: run.workingDirectory
      Current working directory to use for the application. If not specified,
      basedir will be used. NOTE: the use of working directory means that
      processes will be started by forking a new JVM.

spring-boot:stop
  Description: Stop a spring application that has been started by the 'start'
    goal. Typically invoked once a test suite has completed.
  Implementation: org.springframework.boot.maven.StopMojo
  Language: java
  Bound to phase: post-integration-test

  Available parameters:

    fork
      User property: fork
      Flag to indicate if process to stop was forked. By default, the value is
      inherited from the MavenProject. If it is set, it must match the value
      used to StartMojo start the process.

    jmxName
      The JMX name of the automatically deployed MBean managing the lifecycle
      of the application.

    jmxPort
      The port to use to lookup the platform MBeanServer if the application has
      been forked.

    skip (Default: false)
      User property: skip
      Skip the execution.


[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 0.976 s
[INFO] Finished at: 2017-08-03T15:05:53+08:00
[INFO] Final Memory: 12M/155M
[INFO] ------------------------------------------------------------------------			
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="tomcat8-maven-plugin"></a>23.7.10. tomcat8-maven-plugin</h3></div></div></div><pre class="screen">
			
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.5.1&lt;/version&gt;
			&lt;/plugin&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
				&lt;artifactId&gt;tomcat8-maven-plugin&lt;/artifactId&gt;
				&lt;version&gt;2.2&lt;/version&gt;
				&lt;configuration&gt;
					&lt;url&gt;http://localhost:8082/manager/text&lt;/url&gt;
					&lt;server&gt;tomcat&lt;/server&gt;
					&lt;username&gt;admin&lt;/username&gt;
					&lt;password&gt;admin@123456&lt;/password&gt;
					&lt;path&gt;/${project.build.finalName}&lt;/path&gt;
					&lt;!-- war文件路径缺省情况下指向target --&gt;
					&lt;!--&lt;warFile&gt;${basedir}/target/${project.build.finalName}.war&lt;/warFile&gt; --&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;		
			
			</pre><pre class="screen">
			
mvn tomcat:deploy			
			
			</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="docker-maven-plugin"></a>23.7.11. docker-maven-plugin</h3></div></div></div><pre class="screen">
			
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

	&lt;groupId&gt;cn.netkiller&lt;/groupId&gt;
	&lt;artifactId&gt;alertmanager&lt;/artifactId&gt;
	&lt;version&gt;0.0.1&lt;/version&gt;
	&lt;packaging&gt;jar&lt;/packaging&gt;

	&lt;name&gt;alertmanager&lt;/name&gt;
	&lt;url&gt;http://www.netkiller.cn&lt;/url&gt;
	&lt;description&gt;Send SMS for Alertmanager&lt;/description&gt;

	&lt;developers&gt;
		&lt;developer&gt;
			&lt;name&gt;Neo&lt;/name&gt;
			&lt;email&gt;netkiller@msn.com&lt;/email&gt;
			&lt;organization&gt;Netkiller 手札&lt;/organization&gt;
			&lt;organizationUrl&gt;http://www.netkiller.cn&lt;/organizationUrl&gt;
			&lt;roles&gt;
				&lt;role&gt;Author&lt;/role&gt;
			&lt;/roles&gt;
		&lt;/developer&gt;
	&lt;/developers&gt;

	&lt;repositories&gt;
		&lt;repository&gt;
			&lt;id&gt;alimaven&lt;/id&gt;
			&lt;name&gt;Maven Aliyun Mirror&lt;/name&gt;
			&lt;url&gt;http://maven.aliyun.com/nexus/content/repositories/central/&lt;/url&gt;
			&lt;releases&gt;
				&lt;enabled&gt;true&lt;/enabled&gt;
			&lt;/releases&gt;
			&lt;snapshots&gt;
				&lt;enabled&gt;false&lt;/enabled&gt;
			&lt;/snapshots&gt;
		&lt;/repository&gt;
	&lt;/repositories&gt;

	&lt;parent&gt;
		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
		&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
		&lt;version&gt;2.5.4&lt;/version&gt;
		&lt;relativePath /&gt;
	&lt;/parent&gt;

	&lt;properties&gt;
		&lt;java.version&gt;17&lt;/java.version&gt;
		&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
	&lt;/properties&gt;

	&lt;dependencies&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
			&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;com.aliyun&lt;/groupId&gt;
			&lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;
			&lt;version&gt;4.5.25&lt;/version&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
			&lt;artifactId&gt;lombok&lt;/artifactId&gt;
			&lt;optional&gt;true&lt;/optional&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;
	&lt;build&gt;
		&lt;plugins&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
				&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;mainClass&gt;cn.netkiller.alertmanager.Application&lt;/mainClass&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			&lt;plugin&gt;
				&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
				&lt;configuration&gt;
					&lt;skip&gt;true&lt;/skip&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;com.spotify&lt;/groupId&gt;
				&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;
				&lt;version&gt;1.2.2&lt;/version&gt;
				&lt;configuration&gt;
					&lt;baseImage&gt;openjdk&lt;/baseImage&gt;
					&lt;imageName&gt;netkiller/${project.artifactId}:${project.version}&lt;/imageName&gt;
					&lt;imageTags&gt;
						&lt;imageTag&gt;${project.version}&lt;/imageTag&gt;
						&lt;imageTag&gt;latest&lt;/imageTag&gt;
					&lt;/imageTags&gt;
					&lt;volumes&gt;/tmp&lt;/volumes&gt;
					&lt;workdir&gt;/app/&lt;/workdir&gt;
					&lt;!-- &lt;cmd&gt;["java", "-version"]&lt;/cmd&gt; --&gt;
					&lt;entryPoint&gt;["java", "-Djava.security.egd=file:/dev/./urandom", "-jar", "/app/${project.build.finalName}.jar"]&lt;/entryPoint&gt;
					&lt;pushImage&gt;false&lt;/pushImage&gt;
					&lt;resources&gt;
						&lt;resource&gt;
							&lt;targetPath&gt;/app&lt;/targetPath&gt;
							&lt;directory&gt;${project.build.directory}&lt;/directory&gt;
							&lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;
						&lt;/resource&gt;
					&lt;/resources&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;
	&lt;/build&gt;

&lt;/project&gt;
			
			</pre></div></div><div xmlns="" id="SOHUCS"></div><script xmlns="" charset="utf-8" type="text/javascript" src="https://cy-cdn.kuaizhan.com/upload/changyan.js"></script><script xmlns="" type="text/javascript">
			window.changyan.api.config({
			appid: 'cyvwjQUG3',
			conf: 'prod_ef966242df3d8b5acb1e0ee9fc01cafe'
			});
</script><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="maven.dependencies.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="maven.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch23s08.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">23.6. 依赖管理 </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 23.8. 应用案例</td></tr></table></div><script xmlns="">
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-11694057-1', 'auto');
			ga('send', 'pageview');

		</script><script xmlns="" async="async">
			var _hmt = _hmt || [];
			(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
			})();
</script><script xmlns="" async="async">
			(function(){
			var bp = document.createElement('script');
			var curProtocol = window.location.protocol.split(':')[0];
			if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
			}
			else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
			}
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(bp, s);
			})();
</script></body></html>